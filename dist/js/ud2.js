/*! ud2 - v0.0.0
 * (c) 2015 Peak(peak@udtwo.com) */
if("undefined"==typeof $)throw new Error("ud2ui库需要JQuery支持");var ud2=function(a,b){"use strict";function c(a){return function(b){return{}.toString.call(b)==="[object "+a+"]"}}function d(a){return c("Object")(a)}function e(a){return c("String")(a)}function f(a){return a instanceof b}function g(a){if(a=h(a),0===a.length)return J.clone();if(1===a.length)return a.attr(s+this.name+"-state")?void 0:a;for(var b=a.length,c=0;b>c;c++)this.create(a.eq(c))}function h(c){return c||(c=b()),e(c)&&(c=b(c)),c===a&&(c=b(a)),f(c)||(c=b()),c}function i(a,c){a=h(a),a.each(function(){c(b(this))})}function j(a){var b=(a.attr(q)||"").split(" "),c=[];return b.forEach(function(a){0!==a.length&&c.push(a)}),c}function k(a,b){var c=j(a);return c.indexOf(b)>-1?!0:!1}function l(a,b){if(O[m(b)]&&!k(a,b)){var c=j(a);c.push(b),a.attr(q,c.join(" "))}}function m(a){var b=a.split("-"),c=1,d=b.length;if(d>1)for(;d>c;c++)b[c].length>0&&(b[c]=b[c].substr(0,1).toUpperCase()+b[c].substr(1));return b.join("")}function n(a,b){if(d(b))for(var c in b)void 0!==a[c]&&(a[c]=b[c])}var o=a.document,p=(b(a),b(o)),q="ud2",r="-",s=[q,r].join(""),t=(" -webkit- -moz- -o- -ms- ".split(" "),function(){var b={},c=o.createElement("div");return b.safari=/constructor/i.test(a.HTMLElement),b.touch="ontouchstart"in a||a.DocumentTouch&&o instanceof DocumentTouch,b.pointer=a.navigator.pointerEnabled,b.msPointer=a.navigator.msPointerEnabled,b.touchAction=void 0!==c.style.touchAction||void 0!==c.style.msTouchAction||!1,b.perspective=void 0!==c.style.perspective||void 0!==c.style.msPerspective||void 0!==c.style.mozPerspective||void 0!==c.style.webkitPerspective||!1,b.transition=void 0!==c.style.transition||void 0!==c.style.msTransition||void 0!==c.style.mozTransition||void 0!==c.style.webkitTransition||void 0!==c.style.oTransition||!1,b.animation=void 0!==c.style.animation||void 0!==c.style.mozAnimation||void 0!==c.style.webkitAnimation||void 0!==c.style.oAnimation||!1,b}()),u=function(){},v={date:/^(?:[12]\d{3}([\.\-\/])(?:(?:0?[13578]|1[02])\1(?:0?[1-9]|[12]\d|3[01])|(?:0?[469]|11)\1(?:0?[1-9]|[12]\d|30)|0?2\1(?:0?[1-9]|1\d|2[0-8]))$|[12]\d(?:[02468][048]|[13579][26])([\.\-\/])(?:(?:0?[13578]|1[02])\2(?:0?[1-9]|[12]\d|3[01])|(?:0?[469]|11)\2(?:0?[1-9]|[12]\d|30)|0?2\2(?:0?[1-9]|1\d|2[0-9])))$/},w=function(){var a=0;return{create:function(){return"nonamed-"+a++}}}(),x=Date.now||function(){return(new Date).getTime()},y=t.pointer?"pointerdown":"MSPointerDown",z=t.pointer?"pointermove":"MSPointerMove",A=t.pointer?"pointerup":"MSPointerUp",B="touchstart",C="touchmove",D="touchend",E="touchcancel",F="mousedown",G="mousemove",H="mouseup",I="mouseout",J=b("<div />"),K=(b("<a />"),b("<span />"),function(){return!1}),L=b.Callbacks(),M=(b.Callbacks(),function(a,c){function d(a,b){b?a.css({"-ms-touch-action":"none","touch-action":"none"}):a.css({"-ms-touch-action":"auto","touch-action":"auto"}),t.touchAction||(b?a.bind("selectstart",K):a.unbind("selectstart",K))}function e(a){return L.pan=a,w}function f(a){return L.tap=a,w}function g(a){return L.press=a,w}function h(a){return L.swipeLeft=a,w}function j(a){return L.swipeRight=a,w}function k(a){return L.swipeTop=a,w}function l(a){return L.swipeBottom=a,w}function m(a){return L.down=a,w}function o(a){return L.up=a,w}function q(){N.forEach(function(){arguments[0].bind()})}function r(){N.forEach(function(){arguments[0].unbind()})}function u(a,b){this.del=!1,this.id=a,this.downScreenX=b?b.screenX:0,this.downScreenY=b?b.screenY:0,this.downPageX=b?b.pageX:0,this.downPageY=b?b.pageY:0,this.downClientX=b?b.clientX:0,this.downClientY=b?b.clientY:0,this.moveScreenX=this.downScreenX,this.moveScreenY=this.downScreenY,this.movePageX=this.downPageX,this.movePageY=this.downPageY,this.moveClientX=this.downClientX,this.moveClientY=this.downClientY}function v(a){function b(a){0===c()&&(Q.id=a,Q.time=x())}function c(){var a=0;for(var b in P)P[b].del||a++;return a}function e(){for(var a in P)P[a].del&&delete P[a]}function f(a){J.stopPropagation&&a.stopPropagation();var d=a.originalEvent,e=d.pointerId;b(e),0===c()&&(p.bind(O[1],g),p.bind(O[2],h)),(!P[e]||P[e].del)&&(P[e]=new u(e,d),o(a,e))}function g(a){J.stopPropagation&&a.stopPropagation(),a.preventDefault();var b=a.originalEvent,c=b.pointerId;P[c]&&(P[c].setMove(b),q(a,c))}function h(a){J.stopPropagation&&a.stopPropagation();var b=a.originalEvent,d=b.pointerId;P[d]&&(r(a,d),P[d].del=!0,0===c()&&(p.unbind(O[1],g),p.unbind(O[2],h)))}function i(a){J.stopPropagation&&a.stopPropagation();var d=a.originalEvent,e=d.changedTouches;0===c()&&(N.bind(O[4],j),N.bind(O[5],k),N.bind(O[6],k)),b(e[0].identifier);for(var f=0,g=e.length;g>f;f++)(!P[e[f].identifier]||P[e[f].identifier].del)&&(P[e[f].identifier]=new u(e[f].identifier,e[f])),o(a,e[f].identifier)}function j(a){J.stopPropagation&&a.stopPropagation(),a.preventDefault();for(var b=a.originalEvent,c=b.changedTouches,d=0,e=c.length;e>d;d++)P[c[d].identifier]&&P[c[d].identifier].setMove(c[d]),q(a,c[d].identifier)}function k(a){J.stopPropagation&&a.stopPropagation();for(var b=a.originalEvent,d=b.changedTouches,e=0,f=d.length;f>e;e++)r(a,d[e].identifier),P[d[e].identifier].del=!0;0===c()&&(N.unbind(O[4],j),N.unbind(O[5],k),N.unbind(O[6],k))}function l(a){J.stopPropagation&&a.stopPropagation();var c=a.originalEvent;b(0),P[0]=new u(0,c),o(a,0),p.bind(O[8],m),p.bind(O[9],n)}function m(a){J.stopPropagation&&a.stopPropagation(),a.stopPropagation();var b=a.originalEvent;P[0]&&(P[0].setMove(b),q(a,0))}function n(a){J.stopPropagation&&a.stopPropagation(),P[0]&&(r(a,0),void 0!==P[0]&&P[0].del===!1&&(P[0].del=!0),p.unbind(O[8],m),p.unbind(O[9],n))}function o(b,c){R=!1;for(var d=a.parents(),e=d.length,f=0;e>f;f++)if("1"===d.eq(f).attr(s+"scroll-running")){R=!0;break}L.down.call(a,c)}function q(b,c){var d=P[c].getMoveLength();b.preventDefault(),L.pan.call(a,d,c)}function r(b,c){var d=null,f=P[c].getMoveLength(),g={x:Math.abs(f.x),y:Math.abs(f.y)};M&&x()-M.time<500&&"touchend"===M.type&&"mouseup"===b.type||(M={time:x(),type:b.type},Q.id===c&&(d=new Date-Q.time,Q.id=null,Q.time=null),d&&(g.x<J.pointerValidLength&&g.y<J.pointerValidLength&&(R||(d<J.tapMaxTime?L.tap.call(a):L.press.call(a))),g.x>=J.pointerValidLength&&g.x>=g.y&&d<J.swipeMaxTime&&(f.x<0?(b.preventDefault(),L.swipeLeft.call(a)):(b.preventDefault(),L.swipeRight.call(a))),g.y>=J.pointerValidLength&&g.y>=g.x&&d<J.swipeMaxTime&&(f.y<0?(b.preventDefault(),L.swipeTop.call(a)):(b.preventDefault(),L.swipeBottom.call(a)))),L.up.call(a,c),e())}function v(a){t.pointer||t.msPointer?a?N.bind(O[0],f):N.unbind(O[0],f):a?(N.bind(O[3],i),N.bind(O[7],l)):(N.unbind(O[3],i),N.unbind(O[7],l)),a?d(N,!0):d(N,!1)}function w(){S||(S=!0,v(!0))}function K(){S&&(S=!1,v(!1))}var N=a,O=[y,z,A,B,C,D,E,F,G,H,I],P={},Q={id:null,time:null},R=!1,S=!1;return function(){w();var b=a.find("a, img");b.bind("dragstart",function(a){a.preventDefault()})}(),{bind:w,unbind:K}}var w={},J={stopPropagation:!1,tapMaxTime:300,swipeMaxTime:500,pointerValidLength:5},L={pan:b.noop,tap:b.noop,press:b.noop,swipeLeft:b.noop,swipeRight:b.noop,swipeTop:b.noop,swipeBottom:b.noop,down:b.noop,up:b.noop},M=null,N=[];return u.prototype.setMove=function(a){a&&a.screenX&&(this.moveScreenX=a.screenX),a&&a.screenY&&(this.moveScreenY=a.screenY),a&&a.pageX&&(this.movePageX=a.pageX),a&&a.pageY&&(this.movePageY=a.pageY),a&&a.clientX&&(this.moveClientX=a.clientX),a&&a.clientY&&(this.moveClientY=a.clientY)},u.prototype.getMoveLength=function(){return{x:this.movePageX-this.downPageX,y:this.movePageY-this.downPageY}},function(){n(J,c),i(a,function(a){N.push(v(a))})}(),w={setPan:e,setTap:f,setPress:g,setSwipeLeft:h,setSwipeRight:j,setSwipeTop:k,setSwipeBottom:l,setDown:m,setUp:o,on:q,off:r}}),N=function(a,c){function d(a){return m.scroll=a,k}function e(a){return m.down=a,k}function f(a){return m.up=a,k}function g(){p.forEach(function(){arguments[0].bind()})}function h(){p.forEach(function(){arguments[0].unbind()})}function j(a){function b(b){b.stopPropagation(),b.preventDefault();var c=b.originalEvent,d=c.deltaY/100||c.wheelDelta/-120||(Math.abs(c.detail)>2?c.detail/3:c.detail)||0;m.scroll.call(a,d),d>0?m.down.call(a):m.up.call(a)}function c(){f||(f=!0,e.bind(o,b))}function d(){f&&(f=!1,e.unbind(o,b))}var e=a,f=!1;return function(){c()}(),{bind:c,unbind:d}}var k={},l={},m={scroll:b.noop,down:b.noop,up:b.noop},o="DOMMouseScroll mousewheel",p=[];return function(){n(l,c),i(a,function(a){p.push(j(a))})}(),k={setScroll:d,setDown:e,setUp:f,on:g,off:h}},O=function(){var a={};return a}(),P=function(a){var b,c;return b=h(a),0===b.length&&(b=J.clone()),b.length>1&&(b=b.eq(0)),c=b.attr(s+"name"),c||(c=w.create(),b.attr(s+"name",c)),{$origin:b,"public":{name:c}}},Q=function(a){var c=[];return c.name=e(a)?a:"empty",c.controlsName=m(a),c.isControlsGroup=!0,c.findDocument=b.noop,c.init=function(a,b){return a["public"]},c.create=function(a,b){if(a=g.call(this,a)){var c=P(a);return this.push(c["public"]),this[c["public"].name]=c["public"],l(c.$origin,this.name),c.$origin.attr(s+this.name+"-state",!0),this.init(c,b),c["public"]}},O[c.name]=c,c};return function(){p.ready(function(){t.safari&&o.body.addEventListener("touchstart",b.noop),L.fire()})}(),O.reg=v,O.support=t,O.animateFrame=u,O.event=M,O.eventMouseWheel=N,O.ctrl=P,O.ctrlGroup=Q,O}(window,jQuery);
/* lasted： 2015-10-09 09:49:47 */