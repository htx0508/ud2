/*! ud2 - v0.0.0
 * (c) 2015 Peak(peak@udtwo.com) */
if("undefined"==typeof $)throw new Error("ud2库需要JQuery支持");var ud2=function(a,b){"use strict";function c(a){return function(b){return{}.toString.call(b)==="[object "+a+"]"}}function d(a){return c("Object")(a)}function e(a){return c("String")(a)}function f(a){return/^([1-9]\d+|[0-9])$/.test(a)}function g(a){return a instanceof b}function h(a){if(a=i(a),0===a.length)return P.clone();if(1===a.length)return a.attr(w+this.name+"-state")?void 0:a;for(var b=a.length,c=0;b>c;c++)this.create(a.eq(c))}function i(c){return c||(c=b()),e(c)&&(c=b(c)),c===a&&(c=b(a)),g(c)||(c=b()),c}function j(a,c){a=i(a),a.each(function(){c(b(this))})}function k(a){var b=(a.attr(u)||"").split(" "),c=[];return b.forEach(function(a){0!==a.length&&c.push(a)}),c}function l(a,b){var c=k(a);return c.indexOf(b)>-1?!0:!1}function m(a,b){if(V[n(b)]&&!l(a,b)){var c=k(a);c.push(b),a.attr(u,c.join(" "))}}function n(a){var b=a.split("-"),c=1,d=b.length;if(d>1)for(;d>c;c++)b[c].length>0&&(b[c]=b[c].substr(0,1).toUpperCase()+b[c].substr(1));return b.join("")}function o(a,b){if(d(b))for(var c in b)void 0!==a[c]&&(a[c]=b[c])}function p(a,b){b.attr("style",a.attr("style")).addClass(a.attr("class")),a.removeAttr("style").removeClass()}function q(a,b){for(var c=a.get(0),d=b.get(0),e=c.attributes.length,f=/^(ud2-?|data\-|tabindex)/,g=0,h=0;e>g;g++)f.test(c.attributes[h].name)?(d.setAttribute(c.attributes[h].name,c.attributes[h].value),c.removeAttribute(c.attributes[h].name)):h++}var r=a.document,s=b(a),t=b(r),u="ud2",v="-",w=[u,v].join(""),x=(" -webkit- -moz- -o- -ms- ".split(" "),function(){var b={},c=r.createElement("div");return b.safari=/constructor/i.test(a.HTMLElement),b.touch="ontouchstart"in a||a.DocumentTouch&&r instanceof DocumentTouch,b.pointer=a.navigator.pointerEnabled,b.msPointer=a.navigator.msPointerEnabled,b.touchAction=void 0!==c.style.touchAction||void 0!==c.style.msTouchAction||!1,b.perspective=void 0!==c.style.perspective||void 0!==c.style.msPerspective||void 0!==c.style.mozPerspective||void 0!==c.style.webkitPerspective||!1,b.transition=void 0!==c.style.transition||void 0!==c.style.msTransition||void 0!==c.style.mozTransition||void 0!==c.style.webkitTransition||void 0!==c.style.oTransition||!1,b.animation=void 0!==c.style.animation||void 0!==c.style.mozAnimation||void 0!==c.style.webkitAnimation||void 0!==c.style.oAnimation||!1,b}()),y=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(b){a.setTimeout(b,1e3/60)},z={date:/^(?:[12]\d{3}([\.\-\/])(?:(?:0?[13578]|1[02])\1(?:0?[1-9]|[12]\d|3[01])|(?:0?[469]|11)\1(?:0?[1-9]|[12]\d|30)|0?2\1(?:0?[1-9]|1\d|2[0-8]))$|[12]\d(?:[02468][048]|[13579][26])([\.\-\/])(?:(?:0?[13578]|1[02])\2(?:0?[1-9]|[12]\d|3[01])|(?:0?[469]|11)\2(?:0?[1-9]|[12]\d|30)|0?2\2(?:0?[1-9]|1\d|2[0-9])))$/},A=function(){var a=0;return{create:function(){return"nonamed-"+a++}}}(),B=Date.now||function(){return(new Date).getTime()},C=x.pointer?"pointerdown":"MSPointerDown",D=x.pointer?"pointermove":"MSPointerMove",E=x.pointer?"pointerup":"MSPointerUp",F="touchstart",G="touchmove",H="touchend",I="touchcancel",J="mousedown",K="mousemove",L="mouseup",M="mouseout",N="mouseenter",O="mouseleave",P=b("<div />"),Q=b("<a />"),R=(b("<span />"),function(){return!1}),S=b.Callbacks(),T=(b.Callbacks(),function(a,c){function d(a,b){b?a.css({"-ms-touch-action":"none","touch-action":"none"}):a.css({"-ms-touch-action":"auto","touch-action":"auto"}),x.touchAction||(b?a.bind("selectstart",R):a.unbind("selectstart",R))}function e(a){return y.pan=a,u}function f(a){return y.tap=a,u}function g(a){return y.press=a,u}function h(a){return y.swipeLeft=a,u}function i(a){return y.swipeRight=a,u}function k(a){return y.swipeTop=a,u}function l(a){return y.swipeBottom=a,u}function m(a){return y.down=a,u}function n(a){return y.up=a,u}function p(){A.forEach(function(){arguments[0].bind()})}function q(){A.forEach(function(){arguments[0].unbind()})}function r(a,b){this.del=!1,this.id=a,this.downScreenX=b?b.screenX:0,this.downScreenY=b?b.screenY:0,this.downPageX=b?b.pageX:0,this.downPageY=b?b.pageY:0,this.downClientX=b?b.clientX:0,this.downClientY=b?b.clientY:0,this.moveScreenX=this.downScreenX,this.moveScreenY=this.downScreenY,this.movePageX=this.downPageX,this.movePageY=this.downPageY,this.moveClientX=this.downClientX,this.moveClientY=this.downClientY}function s(a){function b(a){0===c()&&(Q.id=a,Q.time=B())}function c(){var a=0;for(var b in P)P[b].del||a++;return a}function e(){for(var a in P)P[a].del&&delete P[a]}function f(a){v.stopPropagation&&a.stopPropagation();var d=a.originalEvent,e=d.pointerId;b(e),0===c()&&(t.bind(O[1],g),t.bind(O[2],h)),(!P[e]||P[e].del)&&(P[e]=new r(e,d),o(a,e))}function g(a){v.stopPropagation&&a.stopPropagation(),a.preventDefault();var b=a.originalEvent,c=b.pointerId;P[c]&&(P[c].setMove(b),p(a,c))}function h(a){v.stopPropagation&&a.stopPropagation();var b=a.originalEvent,d=b.pointerId;P[d]&&(q(a,d),P[d].del=!0,0===c()&&(t.unbind(O[1],g),t.unbind(O[2],h)))}function i(a){v.stopPropagation&&a.stopPropagation();var d=a.originalEvent,e=d.changedTouches;0===c()&&(N.bind(O[4],j),N.bind(O[5],k),N.bind(O[6],k)),b(e[0].identifier);for(var f=0,g=e.length;g>f;f++)(!P[e[f].identifier]||P[e[f].identifier].del)&&(P[e[f].identifier]=new r(e[f].identifier,e[f])),o(a,e[f].identifier)}function j(a){v.stopPropagation&&a.stopPropagation(),a.preventDefault();for(var b=a.originalEvent,c=b.changedTouches,d=0,e=c.length;e>d;d++)P[c[d].identifier]&&P[c[d].identifier].setMove(c[d]),p(a,c[d].identifier)}function k(a){v.stopPropagation&&a.stopPropagation();for(var b=a.originalEvent,d=b.changedTouches,e=0,f=d.length;f>e;e++)q(a,d[e].identifier),P[d[e].identifier].del=!0;0===c()&&(N.unbind(O[4],j),N.unbind(O[5],k),N.unbind(O[6],k))}function l(a){v.stopPropagation&&a.stopPropagation();var c=a.originalEvent;b(0),P[0]=new r(0,c),o(a,0),t.bind(O[8],m),t.bind(O[9],n)}function m(a){v.stopPropagation&&a.stopPropagation(),a.stopPropagation();var b=a.originalEvent;P[0]&&(P[0].setMove(b),p(a,0))}function n(a){v.stopPropagation&&a.stopPropagation(),P[0]&&(q(a,0),void 0!==P[0]&&P[0].del===!1&&(P[0].del=!0),t.unbind(O[8],m),t.unbind(O[9],n))}function o(b,c){R=!1;for(var d=a.parents(),e=d.length,f=0;e>f;f++)if("1"===d.eq(f).attr(w+"scroll-runing")){R=!0;break}y.down.call(a,c)}function p(b,c){var d=P[c].getMoveLength();b.preventDefault(),y.pan.call(a,d,c)}function q(b,c){var d=null,f=P[c].getMoveLength(),g={x:Math.abs(f.x),y:Math.abs(f.y)};z&&B()-z.time<500&&"touchend"===z.type&&"mouseup"===b.type||(z={time:B(),type:b.type},Q.id===c&&(d=new Date-Q.time,Q.id=null,Q.time=null),d&&(g.x<v.pointerValidLength&&g.y<v.pointerValidLength&&(R||(d<v.tapMaxTime?y.tap.call(a):y.press.call(a))),g.x>=v.pointerValidLength&&g.x>=g.y&&d<v.swipeMaxTime&&(f.x<0?(b.preventDefault(),y.swipeLeft.call(a)):(b.preventDefault(),y.swipeRight.call(a))),g.y>=v.pointerValidLength&&g.y>=g.x&&d<v.swipeMaxTime&&(f.y<0?(b.preventDefault(),y.swipeTop.call(a)):(b.preventDefault(),y.swipeBottom.call(a)))),y.up.call(a,c),e())}function s(a){x.pointer||x.msPointer?a?N.bind(O[0],f):N.unbind(O[0],f):a?(N.bind(O[3],i),N.bind(O[7],l)):(N.unbind(O[3],i),N.unbind(O[7],l)),a?d(N,!0):d(N,!1)}function u(){S||(S=!0,s(!0))}function A(){S&&(S=!1,s(!1))}var N=a,O=[C,D,E,F,G,H,I,J,K,L,M],P={},Q={id:null,time:null},R=!1,S=!1;return function(){u();var b=a.find("a, img");b.bind("dragstart",function(a){a.preventDefault()})}(),{bind:u,unbind:A}}var u={},v={stopPropagation:!1,tapMaxTime:300,swipeMaxTime:500,pointerValidLength:5},y={pan:b.noop,tap:b.noop,press:b.noop,swipeLeft:b.noop,swipeRight:b.noop,swipeTop:b.noop,swipeBottom:b.noop,down:b.noop,up:b.noop},z=null,A=[];return r.prototype.setMove=function(a){a&&a.screenX&&(this.moveScreenX=a.screenX),a&&a.screenY&&(this.moveScreenY=a.screenY),a&&a.pageX&&(this.movePageX=a.pageX),a&&a.pageY&&(this.movePageY=a.pageY),a&&a.clientX&&(this.moveClientX=a.clientX),a&&a.clientY&&(this.moveClientY=a.clientY)},r.prototype.getMoveLength=function(){return{x:this.movePageX-this.downPageX,y:this.movePageY-this.downPageY}},function(){o(v,c),j(a,function(a){A.push(s(a))})}(),u={setPan:e,setTap:f,setPress:g,setSwipeLeft:h,setSwipeRight:i,setSwipeTop:k,setSwipeBottom:l,setDown:m,setUp:n,on:p,off:q}}),U=function(a,c){function d(a){return m.scroll=a,k}function e(a){return m.down=a,k}function f(a){return m.up=a,k}function g(){p.forEach(function(){arguments[0].bind()})}function h(){p.forEach(function(){arguments[0].unbind()})}function i(a){function b(b){b.stopPropagation(),b.preventDefault();var c=b.originalEvent,d=c.deltaY/100||c.wheelDelta/-120||(Math.abs(c.detail)>2?c.detail/3:c.detail)||0;m.scroll.call(a,d),d>0?m.down.call(a):m.up.call(a)}function c(){f||(f=!0,e.bind(n,b))}function d(){f&&(f=!1,e.unbind(n,b))}var e=a,f=!1;return function(){c()}(),{bind:c,unbind:d}}var k={},l={},m={scroll:b.noop,down:b.noop,up:b.noop},n="DOMMouseScroll mousewheel",p=[];return function(){o(l,c),j(a,function(a){p.push(i(a))})}(),k={setScroll:d,setDown:e,setUp:f,on:g,off:h}},V=function(){function a(){function a(){var a=b(this),d=k(a);d.forEach(function(b,d){var e=n(b),f=a.attr(w+b+"-state");f||c[e].create(a)})}var d=b("["+u+"]");d.each(a);for(var e in c)c[e]&&c[e].isControlsGroup&&c[e].findDocument()}var c={};return c.createAll=a,c}(),W=function(a){var b,c;return b=i(a),0===b.length&&(b=P.clone()),b.length>1&&(b=b.eq(0)),c=b.attr(w+"name"),c||(c=A.create(),b.attr(w+"name",c)),{$origin:b,"public":{name:c}}},X=function(a){var c=[];return c.name=e(a)?a:"empty",c.controlName=n(a),c.isControlsGroup=!0,c.findDocument=b.noop,c.init=function(a,b){return a["public"]},c.create=function(a,b){if(a=h.call(this,a)){var c=W(a);return this.push(c["public"]),this[c["public"].name]=c["public"],m(c.$origin,this.name),c.$origin.attr(w+this.name+"-state",!0),this.init(c,b),c["public"]}},V[c.name]=c,c},Y=function(c,d){function e(){if(L.hasVertical){var a=0,b=0,c=0;if(a=S.height(),ba.h=R.height(),ba.ih=R.innerHeight(),ba.sh=a-ba.h,ba.now.y<-ba.sh&&(ba.now.y=-ba.sh),c=ba.ih-2*L.barOffset,0!==ba.h){var d=ba.sh/(5*ba.ih);d=1-(d>1?1:d),b=c*d,b=b<L.barMinLength?L.barMinLength:b,b=b>c?c:b,ca.h=b,ca.mh=c,ca.sh=c-b,W.height(b)}}if(L.hasHorizontal){var e=0,f=0,g=0;if(e=S.width(),ba.w=R.width(),ba.iw=R.innerWidth(),ba.sw=e-ba.w,ba.now.x<-ba.sw&&(ba.now.x=-ba.sw),g=ba.iw-2*L.barOffset,0!==ba.w){var d=ba.sw/(5*ba.iw);d=1-(d>1?1:d),f=g*d,f=f<L.barMinLength?L.barMinLength:f,f=f>g?g:f,ca.w=f,ca.mw=g,ca.sw=g-f,V.width(f)}}}function g(){var a,b;if(x.transition){var c=S.css("transform");c=c.split(")")[0].split(", "),a=Math.round(+(c[12]||c[4])),b=Math.round(+(c[13]||c[5]))}else a=ba.now.x,b=ba.now.y;return{x:a,y:b}}function h(a){$!==a&&($=a,R.attr(X,a?1:0))}function j(a,b){var c=b?"sh":"sw";return 0===ba[c]||0===ca[c]?0:a/ba[c]*ca[c]}function k(a,b){var c=b?"sh":"sw";return 0===ba[c]||0===ca[c]?0:a/ca[c]*ba[c]}function l(a,b,c,d){c=c||0,d=d||Y.circular,a>0&&(a=0),b>0&&(b=0),b<-ba.sh&&(b=-ba.sh),a<-ba.sw&&(a=-ba.sw),x.transition?(m(d.css),n(c),S.css("transform","translate("+a+"px, "+b+"px)"+(x.perspective?" translateZ(0)":"")),L.hasVertical&&W.css("transform","translate(0, "+j(-b,1)+"px)"+(x.perspective?" translateZ(0)":"")),L.hasHorizontal&&V.css("transform","translate("+j(-a,0)+"px, 0)"+(x.perspective?" translateZ(0)":"")),ba.now={x:a,y:b}):0===c?(S.css({left:a,top:b}),L.hasVertical&&W.css("top",j(-b,1)+"px"),L.hasHorizontal&&V.css("left",j(-a,0)+"px"),ba.now={x:a,y:b}):p(a,b,c,d.fn)}function m(a){S.css("transition-timing-function",a),W.css("transition-timing-function",a+", ease-out, ease-out, ease-out"),V.css("transition-timing-function",a+", ease-out, ease-out, ease-out")}function n(b){var c=parseInt(b);S.css("transition-duration",c+"ms"),W.css("transition-duration",c+"ms, 300ms, 300ms, 300ms"),V.css("transition-duration",c+"ms, 300ms, 300ms, 300ms"),0!==c?(_&&a.clearTimeout(_),_=a.setTimeout(function(){l(ba.now.x,ba.now.y,0),h(!1),r()},c)):(h(!1),r())}function p(a,b,c,d){function e(){var j,k,l,m=B();i>m?(m=(m-h)/c,l=d(m),j=(a-f)*l+f,k=(b-g)*l+g,ba.now={x:j,y:k},S.css({left:j,top:k}),L.hasVertical&&W.css("top",-k/ba.sh*ca.sh),L.hasHorizontal&&V.css("left",-j/ba.sh*ca.sh),$&&y(e)):$=!1}var f=ba.now.x,g=ba.now.y,h=B(),i=h+c;$=!0,e()}function q(){0===L.barState&&(ca.timer&&a.clearTimeout(ca.timer),x.transition?(V.stop().fadeIn(200),W.stop().fadeIn(200)):(V.show(),W.show()))}function r(){0===L.barState&&(Q||M||$||(ca.timer&&a.clearTimeout(ca.timer),ca.timer=a.setTimeout(function(){x.transition?(V.stop().fadeOut(500),W.stop().fadeOut(500)):(V.hide(),W.hide())},1e3)))}function t(a,b,c,d,e,f){var g,h,i=a-b,j=Math.abs(i)/c;return d=-d,e=e||0,f=f||5e-4,g=a+j*j/(2*f)*(0>i?-1:1),h=j/f,d>g?(g=e?d-e/2.5*(j/8):d,i=Math.abs(g-a),h=i/j):g>0&&(g=e?e/2.5*(j/8):0,i=Math.abs(a)+g,h=i/j),{destination:Math.round(g),duration:h}}function u(){return $}function v(){return e(),l(ba.now.x,ba.now.y),K}function z(a,b,c,d){return l(-a,-b,c,d),K}function A(){e(),q();var a=g();l(a.x,a.y),Z.moved=!1,Z.start=B(),Z.startMove={x:ba.now.x,y:ba.now.y},Z.lastMove={x:0,y:0}}function C(a){var b=B(),c=a.x,d=a.y,e=Math.abs(c),f=Math.abs(d),g=c-Z.lastMove.x,h=d-Z.lastMove.y,i=0,j=0;q(),Z.lastMove={x:c,y:d},b-Z.end>300&&aa>e&&aa>f||(Z.moved||(Z.moved=!0),L.hasVertical&&(j=h+ba.now.y),L.hasHorizontal&&(i=g+ba.now.x),(0!==g||0!==h)&&l(i,j),b-Z.start>=300&&(Z.start=b,Z.startMove.x=i,Z.startMove.y=j))}function D(){var a=ba.now.x,b=ba.now.y,c=a,d=b,e=null,f=null,g=B()-Z.start,i=0;if(Z.end=B(),r(),Z.moved&&L.slowMoving){if(300>g){var j=0,k=0;L.hasVertical&&(f=t(b,Z.startMove.y,g,ba.sh,L.bounce?ba.h:0),d=f.destination,k=f.duration),L.hasHorizontal&&(e=t(a,Z.startMove.x,g,ba.sw,L.bounce?ba.w:0),c=e.destination,j=e.duration),i=Math.max(j,k)}(c!==a||d!==b)&&(q(),h(!0),l(c,d,i))}}function E(a){var b=ba.now.x,c=ba.now.y,d=300,f=L.mousewheelLength;e(),"normal"===f&&(f=Math.round(ba.h)),a>0?c-=f:c+=f,c>0||c<-ba.sh?h(!1):(q(),h(!0)),l(b,c,d)}function F(){this.move=0,M=!0,q(),b(this).css("background",L.barColorOn)}function G(){M=!1,r(),b(this).css("background",L.barColor)}function I(a,b){var c=b?ba.now.x:k(-(a.x-this.move),0)+ba.now.x,d=b?k(-(a.y-this.move),1)+ba.now.y:ba.now.y;b?this.move=a.y:this.move=a.x,l(c,d)}function J(){L.recountByResize&&s.bind("resize orientationchange",v),0===L.barState&&R.bind(N,function(){e(),Q=!0,q()}).bind([O,H].join(" "),function(){Q=!1,r()}),L.isTouchMode&&T(R,{stopPropagation:!0}).setDown(A).setUp(D).setPan(C),L.isMouseWheelMode&&U(R).setScroll(E),L.isScrollMode&&(T(W,{stopPropagation:!0}).setPan(function(a){I.call(this,a,1)}).setDown(F).setUp(G),T(V,{stopPropagation:!0}).setPan(function(a){I.call(this,a,0)}).setDown(F).setUp(G))}var K={},L={recountByResize:!1,barState:0,barSize:6,barMinLength:30,barOffset:1,barColor:"rgba(0,0,0,.4)",barColorOn:"rgba(0,0,0,.6)",barBorderRadiusState:!0,isMouseWheelMode:!0,isTouchMode:!0,isScrollMode:!1,mousewheelLength:"normal",hasHorizontal:!1,hasVertical:!0,slowMoving:!0},M=!1,Q=!1,R=i(c).eq(0),S=P.clone().addClass(w+"scroll-wrapper"),V=P.clone().addClass(w+"scroll-bar"),W=P.clone().addClass(w+"scroll-bar"),X=w+"scroll-runing",Y={quadratic:{css:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(a){return a*(2-a)}},circular:{css:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(a){return Math.sqrt(1- --a*a)}}},Z={id:null,start:0,end:0,moved:!1,startMove:{x:0,y:0},lastMove:{x:0,y:0}},$=!1,_=null,aa=5,ba={h:0,ih:0,sh:0,w:0,iw:0,sw:0,now:{x:0,y:0},isMoved:!1},ca={h:0,mh:0,sh:0,w:0,mw:0,sw:0,timer:null};return function(){o(L,d),"normal"===L.mousewheelLength||f(L.mousewheelLength)||(L.mousewheelLength="normal");var a=R.contents();0===a.length?R.append(S):(a.wrapAll(S),S=R.children("."+w+"scroll-wrapper")),S.css("padding",R.css("padding-top")+" "+R.css("padding-right")+" "+R.css("padding-bottom")+" "+R.css("padding-left")),R.addClass("ud2-scroll"),L.hasVertical&&(R.prepend(W),S.css({height:"auto","min-height":"100%"})),L.hasHorizontal&&(R.prepend(V),S.css({width:"auto","min-width":"100%"})),W.css({top:L.barOffset,right:L.barOffset,width:L.barSize,background:L.barColor}),V.css({left:L.barOffset,bottom:L.barOffset,height:L.barSize,background:L.barColor}),L.barBorderRadiusState&&(W.css("border-radius",L.barSize/2),V.css("border-radius",L.barSize/2)),1===L.barState&&(W.show(),V.show()),e(),J()}(),K={$content:S,move:z,getState:u,recountPosition:v}};(function(a){a.init=function(c,d){function f(a,b,c,d,e){this.group=e||null,this.name=a||"",this.value=b||"",this.disabled=c||!1,this.selected=!this.disabled&&(d||!1),this.createElement(),this.selected&&m(this)}function g(a,b){var c=this;this.name=a||"",this.disabled=b||!1,this.options=[],this.$element=function(){var a=H.clone();return a.html(c.name).attr("title",c.name).addClass(y+"-group"),a}}function h(){for(var a,b=c.$origin.children("optgroup"),d=0,e=b.length;e>d;d++){var f=b.eq(d),g=f.attr("label")||"",h=!(!f.attr("disabled")||"false"===f.attr("disabled"));a=n(g,h),i(a,f)}i()}function i(a,b){for(var d=a?!0:!1,e=a?b.children("option"):c.$origin.children("option"),f=0,g=e.length;g>f;f++){var h=(e.eq(f),e.eq(f).html()),i=e.eq(f).val(),j=!(!e.eq(f).attr("disabled")||"false"===e.eq(f).attr("disabled")),k=!(!e.eq(f).attr("selected")||"false"===e.eq(f).attr("selected"));d?a.add(h,i,j,k):r(h,i,j,k)}}function j(){for(var a,b=0,c=B.length;c>b;b++)a=B[b],J.$content.append(a.$element);for(var d,a,b=0,c=A.length;c>b;b++){d=A[b],J.$content.append(d.$element);for(var e=0,f=d.options.length;f>e;e++)J.$content.append(d.options[e].$element)}J.recountPosition()}function k(a){if(z.isMultiple){var b=-1,c=[];for(var d in C)if(C[d]===a){b=d;break}b>-1?(a.setSelected(!1),C.splice(b,1)):(a.setSelected(!0),C.push(a));for(var d in C)c.push(C[d].value);0===C.length?(G.removeClass("value"),G.html(z.autoText)):(G.addClass("value"),G.html(c.length+"个项目"))}else C[0]&&C[0].setSelected(!1),G.addClass("value"),a.setSelected(!0),C[0]=a,G.html(a.value)}function l(){for(var a=B.length,b=A.length,c=0,d=0;b>d;d++)a+=A[d].options.length;c=2.5*a+2*b,c=c>z.maxHeight?z.maxHeight:c,E.css("height",c+"em")}function m(a){a.disabled||a.group&&a.group.disabled||(k(a),z.isMultiple||u())}function n(a,b){var c=new g(a,b);return A.push(c),c}function r(a,b,c,d,e){var g=new f(a,b,c,d,e);return B.push(g),z}function s(a){var a=e(a)?a:z.autoText;return G.html(a),c["public"]}function t(){return I=!0,D.addClass(y+"-on"),l(),c["public"]}function u(){return I=!1,D.removeClass(y+"-on"),c["public"]}function v(){return I?u():t(),c["public"]}function x(){if(z.isMultiple){var a=[];for(var b in C)a.push(C[b].$element.attr(y+"-value"));return a}return C[0]?C[0].$element.attr(y+"-value"):""}var y=w+a.name,z={maxHeight:20,autoText:c.$origin.attr(y+"-text")||"请选择以下项目",isMultiple:!!c.$origin.attr("multiple")},A=[],B=[],C=[],D=b(['<div class="'+y+'">','<div class="'+y+'-put"><a class="'+y+'-btn" /><i class="'+y+'-ico" /></div>','<div class="'+y+'-list" />',"</div>"].join("")),E=D.children("div:last"),F=D.children("div:first"),G=F.children("a"),H=Q.clone(),I=!1,J=null;return f.prototype={createElement:function(){var a=H.clone(),b=this;a.html(this.name).attr("title",this.name).attr(y+"-value",this.value).addClass(y+"-option"),(this.disabled||this.group&&this.group.disabled)&&a.attr(y+"-disabled","true"),this.$element=a,T(this.$element).setTap(function(){m(b)})},setSelected:function(a){this.selected=a,this.selected?this.$element.addClass(y+"-option-on"):this.$element.removeClass(y+"-option-on")},toggleSelected:function(a){a?this.setSelected(!1):this.setSelected(!0)}},g.prototype={add:function(a,b,c,d){var e=new f(a,b,c,d,this);e.$element.addClass(y+"-ingroup"),this.options.push(e)}},function(){o(z,d),p(c.$origin,D),q(c.$origin,D),J=Y(E,{barState:0,isScrollMode:!0,barColor:"rgba(0,0,0,.2)",barColorOn:"rgba(0,0,0,.4)"}),s(),h(),j(),c.$origin.after(D),c.$origin.remove();var a=T(F);a.setTap(v)}(),c["public"].open=t,c["public"].close=u,c["public"].toggle=v,c["public"].val=x,c["public"].setShowText=s,c["public"]}})(X("select"));return function(){t.ready(function(){x.safari&&r.body.addEventListener("touchstart",b.noop),S.fire()}),S.add(V.createAll)}(),V.reg=z,V.support=x,V.animateFrame=y,V.event=T,V.eventMouseWheel=U,V.ctrl=W,V.ctrlGroup=X,V.scroll=Y,V}(window,jQuery);
/* lasted： 2015-10-23 11:16:27 */