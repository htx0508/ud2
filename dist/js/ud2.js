/*! ud2 - v0.0.0
 * (c) 2015 Peak(peak@udtwo.com) */
if("undefined"==typeof $)throw new Error("ud2库需要JQuery支持");var ud2=function(a,b){"use strict";function c(a){return function(b){return{}.toString.call(b)==="[object "+a+"]"}}function d(a){return c("Object")(a)}function e(a){return c("Function")(a)}function f(a){return c("String")(a)}function g(a){return c("Number")(a)}function h(a){return/^([1-9]\d+|[0-9])$/.test(a)}function i(a){return a instanceof b}function j(a){return h(a)?+a:0}function k(a){if(a=l(a),0===a.length)return S.clone();if(1===a.length)return a.attr(z+this.name+"-state")?void 0:a;for(var b=a.length,c=0;b>c;c++)this.create(a.eq(c))}function l(c){return c||(c=b()),f(c)&&(c=b(c)),c===a&&(c=b(a)),i(c)||(c=b()),c}function m(a,c){a=l(a),a.each(function(){c(b(this))})}function n(a){var b=(a.attr(x)||"").split(" "),c=[];return b.forEach(function(a){0!==a.length&&c.push(a)}),c}function o(a,b){var c=n(a);return c.indexOf(b)>-1?!0:!1}function p(a,b){if($[q(b)]&&!o(a,b)){var c=n(a);c.push(b),a.attr(x,c.join(" "))}}function q(a){var b=a.split("-"),c=1,d=b.length;if(d>1)for(;d>c;c++)b[c].length>0&&(b[c]=b[c].substr(0,1).toUpperCase()+b[c].substr(1));return b.join("")}function r(a,b){if(d(b))for(var c in b)void 0!==a[c]&&(a[c]=b[c])}function s(a,b){b.attr("style",a.attr("style")).addClass(a.attr("class")),a.removeAttr("style").removeClass()}function t(a,b){for(var c=a.get(0),d=b.get(0),e=c.attributes.length,f=/^(ud2-?|data\-|tabindex)/,g=0,h=0;e>g;g++)f.test(c.attributes[h].name)?(d.setAttribute(c.attributes[h].name,c.attributes[h].value),c.removeAttribute(c.attributes[h].name)):h++}var u=a.document,v=b(a),w=b(u),x="ud2",y="-",z=[x,y].join(""),A=(" -webkit- -moz- -o- -ms- ".split(" "),function(){var b={},c=u.createElement("div");return b.safari=/constructor/i.test(a.HTMLElement),b.touch="ontouchstart"in a||a.DocumentTouch&&u instanceof DocumentTouch,b.pointer=a.navigator.pointerEnabled,b.msPointer=a.navigator.msPointerEnabled,b.touchAction=void 0!==c.style.touchAction||void 0!==c.style.msTouchAction||!1,b.perspective=void 0!==c.style.perspective||void 0!==c.style.msPerspective||void 0!==c.style.mozPerspective||void 0!==c.style.webkitPerspective||!1,b.transition=void 0!==c.style.transition||void 0!==c.style.msTransition||void 0!==c.style.mozTransition||void 0!==c.style.webkitTransition||void 0!==c.style.oTransition||!1,b.animation=void 0!==c.style.animation||void 0!==c.style.mozAnimation||void 0!==c.style.webkitAnimation||void 0!==c.style.oAnimation||!1,b}()),B=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(b){a.setTimeout(b,1e3/60)},C={date:/^(?:[12]\d{3}([\.\-\/])(?:(?:0?[13578]|1[02])\1(?:0?[1-9]|[12]\d|3[01])|(?:0?[469]|11)\1(?:0?[1-9]|[12]\d|30)|0?2\1(?:0?[1-9]|1\d|2[0-8]))$|[12]\d(?:[02468][048]|[13579][26])([\.\-\/])(?:(?:0?[13578]|1[02])\2(?:0?[1-9]|[12]\d|3[01])|(?:0?[469]|11)\2(?:0?[1-9]|[12]\d|30)|0?2\2(?:0?[1-9]|1\d|2[0-9])))$/},D=function(){var a=0;return{create:function(){return"nonamed-"+a++}}}(),E=Date.now||function(){return(new Date).getTime()},F=A.pointer?"pointerdown":"MSPointerDown",G=A.pointer?"pointermove":"MSPointerMove",H=A.pointer?"pointerup":"MSPointerUp",I="touchstart",J="touchmove",K="touchend",L="touchcancel",M="mousedown",N="mousemove",O="mouseup",P="mouseout",Q="mouseenter",R="mouseleave",S=b("<div />"),T=b("<a />"),U=b("<span />"),V=function(){return!1},W=b.Callbacks(),X=b.Callbacks(),Y=function(a,c){function d(a,b){b?a.css({"-ms-touch-action":"none","touch-action":"none"}):a.css({"-ms-touch-action":"auto","touch-action":"auto"}),A.touchAction||(b?a.bind("selectstart",V):a.unbind("selectstart",V))}function e(a){return v.pan=a,t}function f(a){return v.tap=a,t}function g(a){return v.press=a,t}function h(a){return v.swipeLeft=a,t}function i(a){return v.swipeRight=a,t}function j(a){return v.swipeTop=a,t}function k(a){return v.swipeBottom=a,t}function l(a){return v.down=a,t}function n(a){return v.up=a,t}function o(){y.forEach(function(){arguments[0].bind()})}function p(){y.forEach(function(){arguments[0].unbind()})}function q(a,b){this.del=!1,this.id=a,this.downScreenX=b?b.screenX:0,this.downScreenY=b?b.screenY:0,this.downPageX=b?b.pageX:0,this.downPageY=b?b.pageY:0,this.downClientX=b?b.clientX:0,this.downClientY=b?b.clientY:0,this.moveScreenX=this.downScreenX,this.moveScreenY=this.downScreenY,this.movePageX=this.downPageX,this.movePageY=this.downPageY,this.moveClientX=this.downClientX,this.moveClientY=this.downClientY}function s(a){function b(a){0===c()&&(Q.id=a,Q.time=E())}function c(){var a=0;for(var b in D)D[b].del||a++;return a}function e(){for(var a in D)D[a].del&&delete D[a]}function f(a){u.stopPropagation&&a.stopPropagation();var d=a.originalEvent,e=d.pointerId;b(e),0===c()&&(w.bind(C[1],g),w.bind(C[2],h)),(!D[e]||D[e].del)&&(D[e]=new q(e,d),o(a,e))}function g(a){u.stopPropagation&&a.stopPropagation(),a.preventDefault();var b=a.originalEvent,c=b.pointerId;D[c]&&(D[c].setMove(b),p(a,c))}function h(a){u.stopPropagation&&a.stopPropagation();var b=a.originalEvent,d=b.pointerId;D[d]&&(r(a,d),D[d].del=!0,0===c()&&(w.unbind(C[1],g),w.unbind(C[2],h)))}function i(a){u.stopPropagation&&a.stopPropagation();var d=a.originalEvent,e=d.changedTouches;0===c()&&(B.bind(C[4],j),B.bind(C[5],k),B.bind(C[6],k)),b(e[0].identifier);for(var f=0,g=e.length;g>f;f++)(!D[e[f].identifier]||D[e[f].identifier].del)&&(D[e[f].identifier]=new q(e[f].identifier,e[f])),o(a,e[f].identifier)}function j(a){u.stopPropagation&&a.stopPropagation(),a.preventDefault();for(var b=a.originalEvent,c=b.changedTouches,d=0,e=c.length;e>d;d++)D[c[d].identifier]&&D[c[d].identifier].setMove(c[d]),p(a,c[d].identifier)}function k(a){u.stopPropagation&&a.stopPropagation();for(var b=a.originalEvent,d=b.changedTouches,e=0,f=d.length;f>e;e++)r(a,d[e].identifier),D[d[e].identifier].del=!0;0===c()&&(B.unbind(C[4],j),B.unbind(C[5],k),B.unbind(C[6],k))}function l(a){u.stopPropagation&&a.stopPropagation();var c=a.originalEvent;b(0),D[0]=new q(0,c),o(a,0),w.bind(C[8],m),w.bind(C[9],n)}function m(a){u.stopPropagation&&a.stopPropagation(),a.stopPropagation();var b=a.originalEvent;D[0]&&(D[0].setMove(b),p(a,0))}function n(a){u.stopPropagation&&a.stopPropagation(),D[0]&&(r(a,0),void 0!==D[0]&&D[0].del===!1&&(D[0].del=!0),w.unbind(C[8],m),w.unbind(C[9],n))}function o(b,c){R=!1;for(var d=a.parents(),e=d.length,f=0;e>f;f++)if("1"===d.eq(f).attr(z+"scroll-runing")){R=!0;break}v.down.call(a,c)}function p(b,c){var d=D[c].getMoveLength();b.preventDefault(),v.pan.call(a,d,c)}function r(b,c){var d=null,f=D[c].getMoveLength(),g={x:Math.abs(f.x),y:Math.abs(f.y)};x&&E()-x.time<500&&"touchend"===x.type&&"mouseup"===b.type||(x={time:E(),type:b.type},Q.id===c&&(d=new Date-Q.time,Q.id=null,Q.time=null),d&&(g.x<u.pointerValidLength&&g.y<u.pointerValidLength&&(R||(d<u.tapMaxTime?v.tap.call(a):v.press.call(a))),g.x>=u.pointerValidLength&&g.x>=g.y&&d<u.swipeMaxTime&&(f.x<0?(b.preventDefault(),v.swipeLeft.call(a)):(b.preventDefault(),v.swipeRight.call(a))),g.y>=u.pointerValidLength&&g.y>=g.x&&d<u.swipeMaxTime&&(f.y<0?(b.preventDefault(),v.swipeTop.call(a)):(b.preventDefault(),v.swipeBottom.call(a)))),v.up.call(a,c),e())}function s(a){A.pointer||A.msPointer?a?B.bind(C[0],f):B.unbind(C[0],f):a?(B.bind(C[3],i),B.bind(C[7],l)):(B.unbind(C[3],i),B.unbind(C[7],l)),a?d(B,!0):d(B,!1)}function t(){S||(S=!0,s(!0))}function y(){S&&(S=!1,s(!1))}var B=a,C=[F,G,H,I,J,K,L,M,N,O,P],D={},Q={id:null,time:null},R=!1,S=!1;return function(){t();var b=a.find("a, img");b.bind("dragstart",function(a){a.preventDefault()})}(),{bind:t,unbind:y}}var t={},u={stopPropagation:!1,tapMaxTime:300,swipeMaxTime:500,pointerValidLength:5},v={pan:b.noop,tap:b.noop,press:b.noop,swipeLeft:b.noop,swipeRight:b.noop,swipeTop:b.noop,swipeBottom:b.noop,down:b.noop,up:b.noop},x=null,y=[];return q.prototype.setMove=function(a){a&&a.screenX&&(this.moveScreenX=a.screenX),a&&a.screenY&&(this.moveScreenY=a.screenY),a&&a.pageX&&(this.movePageX=a.pageX),a&&a.pageY&&(this.movePageY=a.pageY),a&&a.clientX&&(this.moveClientX=a.clientX),a&&a.clientY&&(this.moveClientY=a.clientY)},q.prototype.getMoveLength=function(){return{x:this.movePageX-this.downPageX,y:this.movePageY-this.downPageY}},function(){r(u,c),m(a,function(a){y.push(s(a))})}(),t={setPan:e,setTap:f,setPress:g,setSwipeLeft:h,setSwipeRight:i,setSwipeTop:j,setSwipeBottom:k,setDown:l,setUp:n,on:o,off:p}},Z=function(a,c){function d(a){return l.scroll=a,j}function e(a){return l.down=a,j}function f(a){return l.up=a,j}function g(){o.forEach(function(){arguments[0].bind()})}function h(){o.forEach(function(){arguments[0].unbind()})}function i(a){function b(b){b.stopPropagation(),b.preventDefault();var c=b.originalEvent,d=c.deltaY/100||c.wheelDelta/-120||(Math.abs(c.detail)>2?c.detail/3:c.detail)||0;l.scroll.call(a,d),d>0?l.down.call(a):l.up.call(a)}function c(){f||(f=!0,e.bind(n,b))}function d(){f&&(f=!1,e.unbind(n,b))}var e=a,f=!1;return function(){c()}(),{bind:c,unbind:d}}var j={},k={},l={scroll:b.noop,down:b.noop,up:b.noop},n="DOMMouseScroll mousewheel",o=[];return function(){r(k,c),m(a,function(a){o.push(i(a))})}(),j={setScroll:d,setDown:e,setUp:f,on:g,off:h}},$=function(){function a(){function a(){var a=b(this),d=n(a);d.forEach(function(b,d){var e=q(b),f=a.attr(z+b+"-state");f||c[e].create(a)})}var d=b("["+x+"]");d.each(a);for(var e in c)c[e]&&c[e].isControlsGroup&&c[e].findDocument()}var c={};return c.createAll=a,c}(),_=function(a){function c(a){for(var c=b(a),d=c.parents(),e=0,g=d.length;g>e;e++)if(f.$current&&d.eq(e).get(0)===f.$current.get(0))return;f.autoClose()}var d,e,f={};return d=l(a),0===d.length&&(d=S.clone()),d.length>1&&(d=d.eq(0)),e=d.attr(z+"name"),e||(e=D.create(),d.attr(z+"name",e)),f.$origin=d,f.$current=null,f.autoClose=function(){},f["public"]={name:e},X.add(c),f},aa=function(a){var c=[];return c.name=f(a)?a:"empty",c.controlName=q(a),c.isControlsGroup=!0,c.findDocument=b.noop,c.init=function(a,b){return a["public"]},c.create=function(a,b){if(a=k.call(this,a)){var c=_(a);return this.push(c["public"]),this[c["public"].name]=c["public"],p(c.$origin,this.name),c.$origin.attr(z+this.name+"-state",!0),this.init(c,b),c["public"]}},$[c.name]=c,c},ba=function(c,d){function e(){if(L.hasVertical){var a=0,b=0,c=0;if(a=P.height(),ba.h=O.height(),ba.ih=O.innerHeight(),ba.sh=a-ba.h,ba.now.y<-ba.sh&&(ba.now.y=-ba.sh),c=ba.ih-2*L.barOffset,0!==ba.h){var d=ba.sh/(5*ba.ih);d=1-(d>1?1:d),b=c*d,b=b<L.barMinLength?L.barMinLength:b,b=b>c?c:b,ca.h=b,ca.mh=c,ca.sh=c-b,U.height(b)}}if(L.hasHorizontal){var e=0,f=0,g=0;if(e=P.width(),ba.w=O.width(),ba.iw=O.innerWidth(),ba.sw=e-ba.w,ba.now.x<-ba.sw&&(ba.now.x=-ba.sw),g=ba.iw-2*L.barOffset,0!==ba.w){var d=ba.sw/(5*ba.iw);d=1-(d>1?1:d),f=g*d,f=f<L.barMinLength?L.barMinLength:f,f=f>g?g:f,ca.w=f,ca.mw=g,ca.sw=g-f,T.width(f)}}}function f(){var a,b;if(A.transition){var c=P.css("transform");c=c.split(")")[0].split(", "),a=Math.round(+(c[12]||c[4])),b=Math.round(+(c[13]||c[5]))}else a=ba.now.x,b=ba.now.y;return{x:a,y:b}}function g(a){$!==a&&($=a,O.attr(V,a?1:0))}function i(a,b){var c=b?"sh":"sw";return 0===ba[c]||0===ca[c]?0:a/ba[c]*ca[c]}function j(a,b){var c=b?"sh":"sw";return 0===ba[c]||0===ca[c]?0:a/ca[c]*ba[c]}function k(a,b,c,d){c=c||0,d=d||W.circular,a>0&&(a=0),b>0&&(b=0),b<-ba.sh&&(b=-ba.sh),a<-ba.sw&&(a=-ba.sw),A.transition?(m(d.css),n(c),P.css("transform","translate("+a+"px, "+b+"px)"+(A.perspective?" translateZ(0)":"")),L.hasVertical&&U.css("transform","translate(0, "+i(-b,1)+"px)"+(A.perspective?" translateZ(0)":"")),L.hasHorizontal&&T.css("transform","translate("+i(-a,0)+"px, 0)"+(A.perspective?" translateZ(0)":"")),ba.now={x:a,y:b}):0===c?(P.css({left:a,top:b}),L.hasVertical&&U.css("top",i(-b,1)+"px"),L.hasHorizontal&&T.css("left",i(-a,0)+"px"),ba.now={x:a,y:b}):o(a,b,c,d.fn)}function m(a){P.css("transition-timing-function",a),U.css("transition-timing-function",a+", ease-out, ease-out, ease-out"),T.css("transition-timing-function",a+", ease-out, ease-out, ease-out")}function n(b){var c=parseInt(b);P.css("transition-duration",c+"ms"),U.css("transition-duration",c+"ms, 300ms, 300ms, 300ms"),T.css("transition-duration",c+"ms, 300ms, 300ms, 300ms"),0!==c?(_&&a.clearTimeout(_),_=a.setTimeout(function(){k(ba.now.x,ba.now.y,0),g(!1),q()},c)):(g(!1),q())}function o(a,b,c,d){function e(){var j,k,l,m=E();i>m?(m=(m-h)/c,l=d(m),j=(a-f)*l+f,k=(b-g)*l+g,ba.now={x:j,y:k},P.css({left:j,top:k}),L.hasVertical&&U.css("top",-k/ba.sh*ca.sh),L.hasHorizontal&&T.css("left",-j/ba.sh*ca.sh),$&&B(e)):$=!1}var f=ba.now.x,g=ba.now.y,h=E(),i=h+c;$=!0,e()}function p(){0===L.barState&&(ca.timer&&a.clearTimeout(ca.timer),A.transition?(T.stop().fadeIn(200),U.stop().fadeIn(200)):(T.show(),U.show()))}function q(){0===L.barState&&(N||M||$||(ca.timer&&a.clearTimeout(ca.timer),ca.timer=a.setTimeout(function(){A.transition?(T.stop().fadeOut(500),U.stop().fadeOut(500)):(T.hide(),U.hide())},1e3)))}function s(a,b,c,d,e,f){var g,h,i=a-b,j=Math.abs(i)/c;return d=-d,e=e||0,f=f||5e-4,g=a+j*j/(2*f)*(0>i?-1:1),h=j/f,d>g?(g=e?d-e/2.5*(j/8):d,i=Math.abs(g-a),h=i/j):g>0&&(g=e?e/2.5*(j/8):0,i=Math.abs(a)+g,h=i/j),{destination:Math.round(g),duration:h}}function t(){return $}function u(){return e(),k(ba.now.x,ba.now.y),J}function w(a,b,c,d){return k(-a,-b,c,d),J}function x(){e(),p();var a=f();k(a.x,a.y),X.moved=!1,X.start=E(),X.startMove={x:ba.now.x,y:ba.now.y},X.lastMove={x:0,y:0}}function y(a){var b=E(),c=a.x,d=a.y,e=Math.abs(c),f=Math.abs(d),g=c-X.lastMove.x,h=d-X.lastMove.y,i=0,j=0;p(),X.lastMove={x:c,y:d},b-X.end>300&&aa>e&&aa>f||(X.moved||(X.moved=!0),L.hasVertical&&(j=h+ba.now.y),L.hasHorizontal&&(i=g+ba.now.x),(0!==g||0!==h)&&k(i,j),b-X.start>=300&&(X.start=b,X.startMove.x=i,X.startMove.y=j))}function C(){var a=ba.now.x,b=ba.now.y,c=a,d=b,e=null,f=null,h=E()-X.start,i=0;if(X.end=E(),q(),X.moved&&L.slowMoving){if(300>h){var j=0,l=0;L.hasVertical&&(f=s(b,X.startMove.y,h,ba.sh,L.bounce?ba.h:0),d=f.destination,l=f.duration),L.hasHorizontal&&(e=s(a,X.startMove.x,h,ba.sw,L.bounce?ba.w:0),c=e.destination,j=e.duration),i=Math.max(j,l)}(c!==a||d!==b)&&(p(),g(!0),k(c,d,i))}}function D(a){var b=ba.now.x,c=ba.now.y,d=300,f=L.mousewheelLength;e(),"normal"===f&&(f=Math.round(ba.h)),a>0?c-=f:c+=f,c>0||c<-ba.sh?g(!1):(p(),g(!0)),k(b,c,d)}function F(){this.move=0,M=!0,p(),b(this).css("background",L.barColorOn)}function G(){M=!1,q(),b(this).css("background",L.barColor)}function H(a,b){var c=b?ba.now.x:j(-(a.x-this.move),0)+ba.now.x,d=b?j(-(a.y-this.move),1)+ba.now.y:ba.now.y;b?this.move=a.y:this.move=a.x,k(c,d)}function I(){L.recountByResize&&v.bind("resize orientationchange",u),0===L.barState&&O.bind(Q,function(){e(),N=!0,p()}).bind([R,K].join(" "),function(){N=!1,q()}),L.isTouchMode&&Y(O,{stopPropagation:!0}).setDown(x).setUp(C).setPan(y),L.isMouseWheelMode&&Z(O).setScroll(D),L.isScrollMode&&(Y(U,{stopPropagation:!0}).setPan(function(a){H.call(this,a,1)}).setDown(F).setUp(G),Y(T,{stopPropagation:!0}).setPan(function(a){H.call(this,a,0)}).setDown(F).setUp(G))}var J={},L={recountByResize:!1,barState:0,barSize:6,barMinLength:30,barOffset:1,barColor:"rgba(0,0,0,.4)",barColorOn:"rgba(0,0,0,.6)",barBorderRadiusState:!0,isMouseWheelMode:!0,isTouchMode:!0,isScrollMode:!1,mousewheelLength:"normal",hasHorizontal:!1,hasVertical:!0,slowMoving:!0},M=!1,N=!1,O=l(c).eq(0),P=S.clone().addClass(z+"scroll-wrapper"),T=S.clone().addClass(z+"scroll-bar"),U=S.clone().addClass(z+"scroll-bar"),V=z+"scroll-runing",W={quadratic:{css:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(a){return a*(2-a)}},circular:{css:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(a){return Math.sqrt(1- --a*a)}}},X={id:null,start:0,end:0,moved:!1,startMove:{x:0,y:0},lastMove:{x:0,y:0}},$=!1,_=null,aa=5,ba={h:0,ih:0,sh:0,w:0,iw:0,sw:0,now:{x:0,y:0},isMoved:!1},ca={h:0,mh:0,sh:0,w:0,mw:0,sw:0,timer:null};return function(){r(L,d),"normal"===L.mousewheelLength||h(L.mousewheelLength)||(L.mousewheelLength="normal");var a=O.contents();0===a.length?O.append(P):(a.wrapAll(P),P=O.children("."+z+"scroll-wrapper")),P.css("padding",O.css("padding-top")+" "+O.css("padding-right")+" "+O.css("padding-bottom")+" "+O.css("padding-left")),O.addClass("ud2-scroll"),L.hasVertical&&(O.prepend(U),P.css({height:"auto","min-height":"100%"})),L.hasHorizontal&&(O.prepend(T),P.css({width:"auto","min-width":"100%"})),U.css({top:L.barOffset,right:L.barOffset,width:L.barSize,background:L.barColor}),T.css({left:L.barOffset,bottom:L.barOffset,height:L.barSize,background:L.barColor}),L.barBorderRadiusState&&(U.css("border-radius",L.barSize/2),T.css("border-radius",L.barSize/2)),1===L.barState&&(U.show(),T.show()),e(),I()}(),J={$content:P,move:w,getState:t,recountPosition:u}};(function(a){a.init=function(c,d){function e(a,b,c,d,f){this.group=f||null,this.name=a||"",this.value=b||"",this.disabled=c||!1,this.selected=!this.disabled&&(d||!1),this.createElement(),this.selected&&k(this),e.list.push(this),this.group?this.group.addOption(this):F.$content.append(this.$element)}function g(a,b){this.name=a||"",this.disabled=b||!1,this.options=[],this.createElement(),g.list.push(this),F.$content.append(this.$element)}function h(){var a=c.$origin.children("optgroup");i();for(var b,d=0,e=a.length;e>d;d++){var f=a.eq(d),h=f.attr("label")||"",j=!(!f.attr("disabled")||"false"===f.attr("disabled"));b=new g(h,j),i(b,f)}}function i(a,b){for(var d=a?!0:!1,f=a?b.children("option"):c.$origin.children("option"),g=0,h=f.length;h>g;g++){var i=(f.eq(g),f.eq(g).html()),j=f.eq(g).val(),k=!(!f.eq(g).attr("disabled")||"false"===f.eq(g).attr("disabled")),l=!(!f.eq(g).attr("selected")||"false"===f.eq(g).attr("selected"));d?new e(i,j,k,l,a):new e(i,j,k,l)}}function j(a){if(w.isMultiple){var b=-1,c=[];for(var d in x)if(x[d]===a){b=d;break}b>-1?(a.setSelected(!1),x.splice(b,1)):(a.setSelected(!0),x.push(a));for(var d in x)c.push(x[d].value);0===x.length?(C.attr(v+"-value",null),C.html(w.autoText)):(C.attr(v+"-value",!0),C.html(c.length+"个项目"))}else x[0]&&x[0].setSelected(!1),C.attr(v+"-value",!0),a.setSelected(!0),x[0]=a,C.html(a.name)}function k(a){a.disabled||a.group&&a.group.disabled||(j(a),w.isMultiple||n())}function l(a){var a=f(a)?a:w.autoText;return w.autoText=a,C.html(a),c["public"]}function m(){return E=!0,y.addClass(v+"-on"),q(),c["public"]}function n(){return E=!1,y.removeClass(v+"-on"),c["public"]}function o(){return E?n():m(),c["public"]}function p(){if(w.isMultiple){var a=[];for(var b in x)a.push(x[b].$element.attr(v+"-value"));return a}return x[0]?x[0].$element.attr(v+"-value"):""}function q(){var a=e.list.length,b=g.list.length,c=0;c=2.5*a+2*b,c=c>w.maxHeight?w.maxHeight:c,A.css("height",c+"em"),F.recountPosition()}function u(){var a=Y(B);a.setTap(o)}var v=z+a.name,w={maxHeight:20,autoText:c.$origin.attr(v+"-text")||"请选择以下项目",isMultiple:!!c.$origin.attr("multiple")},x=[],y=b(['<div class="'+v+'">','<div class="'+v+'-put"><a class="'+v+'-btn" /><i class="'+v+'-ico" /></div>','<div class="'+v+'-list" />',"</div>"].join("")),A=y.children("div:last"),B=y.children("div:first"),C=B.children("a"),D=T.clone(),E=!1,F=null;return e.list=[],e.prototype={createElement:function(){var a=D.clone(),b=this;a.html(this.name).attr("title",this.name).attr(v+"-value",this.value).addClass(v+"-option"),this.group&&a.addClass(v+"-ingroup"),(this.disabled||this.group&&this.group.disabled)&&a.attr(v+"-disabled","true"),this.$element=a,Y(this.$element).setTap(function(){k(b)})},setSelected:function(a){this.selected=a,this.selected?this.$element.addClass(v+"-option-on"):this.$element.removeClass(v+"-option-on")},toggleSelected:function(a){a?this.setSelected(!1):this.setSelected(!0)}},g.list=[],g.prototype={createElement:function(){var a=D.clone();a.html(this.name).attr("title",this.name).addClass(v+"-group"),this.$element=a},addOption:function(a){a instanceof e&&(this.options.push(a),this.$element.after(a.$element))}},function(){c.$current=y,c.autoClose=n,r(w,d),s(c.$origin,y),t(c.$origin,y),F=ba(A,{barState:0,isScrollMode:!0,barColor:"rgba(0,0,0,.2)",barColorOn:"rgba(0,0,0,.4)"}),l(),h(),c.$origin.after(y),c.$origin.remove(),u()}(),c["public"].open=m,c["public"].close=n,c["public"].toggle=o,c["public"].val=p,c["public"].setShowText=l,c["public"].recountHeight=q,c["public"]}})(aa("select")),function(c){c.init=function(d,e){function f(){c.data||b.ajax({url:w.json,method:"get",dataType:"json"}).done(function(a){c.data=a,E.removeClass(v+"-area-load")})}function g(a){D.children().removeClass(v+"-tab-on"),D.children().eq(a).addClass(v+"-tab-on"),E.children().detach()}function h(){if(c.data){g(0);for(var b in c.data){var d=c.data[b].name;x.provinceList[d]||(x.provinceList[d]=U.clone().html(d),Y(x.provinceList[d]).setTap(function(a){return function(){x.province=c.data[a],x.city=null,x.area=null,i(),l()}}(b))),E.append(x.provinceList[d])}}else G&&(a.clearInterval(G),G=null),G=a.setInterval(h,50)}function i(){g(1);for(var a in x.province.city){var b=x.province.city[a].name,c=x.province.name+b;x.cityList[c]||(x.cityList[c]=U.clone().html(b),Y(x.cityList[c]).setTap(function(a){return function(){x.city=x.province.city[a],x.area=null,j(),l()}}(a))),E.append(x.cityList[c])}}function j(){g(2);for(var a in x.city.area){var b=x.city.area[a],c=x.province.name+x.city.name+b;x.areaList[c]||(x.areaList[c]=U.clone().html(b),Y(x.areaList[c]).setTap(function(a){return function(){x.area=x.city.area[a],l(),o()}}(a))),E.append(x.areaList[c])}}function k(){var a=this.index();x.province&&0===a&&h(),x.province&&x.city&&1===a&&i(),x.province&&x.city&&x.area&&2===a&&j()}function l(){var a="";x.province?(a+=x.province.name,x.city&&(a+="<b>/</b>"+x.city.name,x.area&&(a+="<b>/</b>"+x.area)),B.attr(v+"-value",!0),B.html(a)):(B.attr(v+"-value",null),B.html(w.autoText))}function m(a){var a=$.check.isString(a)?a:w.autoText;return w.autoText=a,B.html(a),d["public"]}function n(){return F=!0,y.addClass(v+"-on"),C.addClass(z+"ctrl-power-on"),x.province?x.city?j():i():h(),d["public"]}function o(){return G&&(a.clearInterval(G),G=null),null===x.area&&(x.province=null,x.city=null,l()),F=!1,y.removeClass(v+"-on"),C.removeClass(z+"ctrl-power-on"),d["public"]}function p(){return F?o():n(),d["public"]}function q(){var a=[];return x.province&&x.city&&x.area&&(a.push(x.province.name),a.push(x.city.name),a.push(x.area)),a}function u(){var a=Y(B);a.setTap(p);var b=Y(C);b.setTap(p);var c=Y(D.children());c.setTap(k)}var v=z+c.name,w={autoText:d.$origin.attr(v+"-text")||"请选择城市信息",json:d.$origin.attr(v+"-src")||"/dist/json/address.json"},x={province:null,city:null,area:null,provinceList:[],cityList:[],areaList:[]},y=b(['<div class="ud2-address">','<a class="ud2-address-btn" />','<span class="ud2-ctrl-power"><i class="ico">&#xe773;</i><i class="ico">&#xe689;</i></span>','<div class="ud2-address-list">','<div class="ud2-address-tab"><span>省份</span><span>城市</span><span>区县</span></div>','<div class="ud2-address-area ud2-address-area-load" />',"</div></div>"].join("")),A=y.children("div"),B=y.children("a"),C=y.children("span"),D=A.children("div:first"),E=A.children("div:last"),F=!1,G=null;return function(){d.$current=y,d.autoClose=o,r(w,e),s(d.$origin,y),t(d.$origin,y),f(),m(),d.$origin.after(y),d.$origin.remove(),u()}(),d["public"].open=n,d["public"].close=o,d["public"].toggle=p,d["public"].val=q,d["public"]}}(aa("address")),function(a){a.init=function(c,d){function e(a){this.section=a,this.cells=[],a.row.push(this)}function f(a,b){this.section=a,this.cells=[],this.width=b||k.colWidth,a.col.push(this)}function g(a,b,c,d,e,f,g){this.section=a,this.text=b,this.rowspan=c,this.colspan=d,this.merged=e||!1,a.row[f].addCell(this),a.col[g].addCell(this),a.cell.push(this)}function h(a){var c=a.$origin.children("tr"),d=c.eq(0).children("td"),g=0,h=0;h=c.length,d.each(function(a){g+=parseInt(b(this).attr("colspan")||1)});for(var i=0;g>i;i++)new f(a);for(var i=0;h>i;i++)new e(a);return{row:h,col:g}}function i(a){for(var b,c,d,e=a.$origin.children("tr"),f=h(a),i=[],j=0;j<f.row;j++)for(var k=0,l=0;k<f.col;k++,l++){var m=!1;i.forEach(function(a){return k>=a.start[1]&&k<=a.start[1]+a.len[1]&&j>=a.start[0]&&j<=a.start[0]+a.len[0]?(l--,void(m=!0)):void 0}),m?new g(a,"",d,c,!0,j,k):(b=e.eq(j).children("td").eq(l),c=parseInt(b.attr("colspan")||1),d=parseInt(b.attr("rowspan")||1),(c>0||d>0)&&i.push({start:[j,k],len:[d-1,c-1]}),new g(a,b.html(),d,c,!1,j,k))}}function j(){var a=c.$origin.children("thead"),b=c.$origin.children("tbody"),d=c.$origin.children("tfoot");m.thead.$origin=a,m.thead.$origin.parent=m.thead,m.tbody.$origin=b,m.tbody.$origin.parent=m.tbody,m.tfoot.$origin=d,m.tfoot.$origin.parent=m.tfoot,0!==m.thead.$origin.length&&i(m.thead),0!==m.tbody.$origin.length&&i(m.tbody),0!==m.tfoot.$origin.length&&i(m.tfoot)}var k=(z+a.name,{colWidth:200}),l=S.clone(),m={thead:{row:[],col:[],cell:[]},tbody:{row:[],col:[],cell:[]},tfoot:{row:[],col:[],cell:[]}};return e.prototype={addCell:function(a){this.cells.push(a)}},f.prototype={addCell:function(a){this.cells.push(a)}},function(){r(k,d),s(c.$origin,l),t(c.$origin,l),j(),c.$origin.after(l),c.$origin.remove();b("<table />"),b("<tr />"),b("<td />")}(),c["public"].thead=m.thead,c["public"].tbody=m.tbody,c["public"].tfoot=m.tfoot,c["public"]}}(aa("table"));return function(){w.ready(function(){A.safari&&u.body.addEventListener("touchstart",b.noop),W.fire(),w.bind([I,M].join(" "),function(a){X.fire(a.target)})}),W.add($.createAll)}(),$.check={isType:c,isObject:d,isFunction:e,isString:f,isNumber:g,isNaturalNumber:h,isJQuery:i},$.convert={naturalNumber:j},$.regex=C,$.support=A,$.animateFrame=B,$.event=Y,$.eventMouseWheel=Z,$.ctrl=_,$.ctrlGroup=aa,$.scroll=ba,$}(window,jQuery);
/* lasted： 2015-10-28 12:03:05 */