/*! ud2 - v0.0.0
 * (c) 2015 Peak(peak@udtwo.com) */
if("undefined"==typeof $)throw new Error("ud2ui库需要JQuery支持");var ud2=function(a,b){"use strict";function c(a){return function(b){return{}.toString.call(b)==="[object "+a+"]"}}function d(a){return c("Object")(a)}function e(a){return c("String")(a)}function f(a){return a instanceof b}function g(c){return c||(c=b()),e(c)&&(c=b(c)),c===a&&(c=b(a)),f(c)||(c=b()),c}function h(a,c){a=g(a),a.each(function(){c(b(this))})}function i(a,b){if(d(b))for(var c in b)void 0!==a[c]&&(a[c]=b[c])}var j=a.document,k=(b(a),b(j)),l="ud2",m="-",n=[l,m].join(""),o=(" -webkit- -moz- -o- -ms- ".split(" "),function(){var b={},c=j.createElement("div");return b.safari=/constructor/i.test(a.HTMLElement),b.touch="ontouchstart"in a||a.DocumentTouch&&j instanceof DocumentTouch,b.pointer=a.navigator.pointerEnabled,b.msPointer=a.navigator.msPointerEnabled,b.touchAction=void 0!==c.style.touchAction||void 0!==c.style.msTouchAction||!1,b.perspective=void 0!==c.style.perspective||void 0!==c.style.msPerspective||void 0!==c.style.mozPerspective||void 0!==c.style.webkitPerspective||!1,b.transition=void 0!==c.style.transition||void 0!==c.style.msTransition||void 0!==c.style.mozTransition||void 0!==c.style.webkitTransition||void 0!==c.style.oTransition||!1,b.animation=void 0!==c.style.animation||void 0!==c.style.mozAnimation||void 0!==c.style.webkitAnimation||void 0!==c.style.oAnimation||!1,b}()),p=Date.now||function(){return(new Date).getTime()},q=o.pointer?"pointerdown":"MSPointerDown",r=o.pointer?"pointermove":"MSPointerMove",s=o.pointer?"pointerup":"MSPointerUp",t="touchstart",u="touchmove",v="touchend",w="touchcancel",x="mousedown",y="mousemove",z="mouseup",A="mouseout",B=5,C=([q,t,x].join(" "),b("<div />"),b("<a />"),b("<span />"),function(){return!1}),D=(b.Callbacks(),b.Callbacks(),function(a,c){function d(a,b){b?a.css({"-ms-touch-action":"none","touch-action":"none"}):a.css({"-ms-touch-action":"auto","touch-action":"auto"}),o.touchAction||(b?a.bind("selectstart",C):a.unbind("selectstart",C))}function e(a){return M.pan=a,K}function f(a){return M.tap=a,K}function g(a){return M.press=a,K}function j(a){return M.swipeLeft=a,K}function l(a){return M.swipeRight=a,K}function m(a){return M.swipeTop=a,K}function D(a){return M.swipeBottom=a,K}function E(a){return M.down=a,K}function F(a){return M.up=a,K}function G(){O.forEach(function(){arguments[0].bind()})}function H(){O.forEach(function(){arguments[0].unbind()})}function I(a,b){this.del=!1,this.id=a,this.downScreenX=b?b.screenX:0,this.downScreenY=b?b.screenY:0,this.downPageX=b?b.pageX:0,this.downPageY=b?b.pageY:0,this.downClientX=b?b.clientX:0,this.downClientY=b?b.clientY:0,this.moveScreenX=this.downScreenX,this.moveScreenY=this.downScreenY,this.movePageX=this.downPageX,this.movePageY=this.downPageY,this.moveClientX=this.downClientX,this.moveClientY=this.downClientY}function J(a){function b(a){0===c()&&(R.id=a,R.time=p())}function c(){var a=0;for(var b in Q)Q[b].del||a++;return a}function e(){for(var a in Q)Q[a].del&&delete Q[a]}function f(a){L.stopPropagation&&a.stopPropagation();var d=a.originalEvent,e=d.pointerId;b(e),0===c()&&(k.bind(P[1],g),k.bind(P[2],h)),(!Q[e]||Q[e].del)&&(Q[e]=new I(e,d),E(a,e))}function g(a){L.stopPropagation&&a.stopPropagation(),a.preventDefault();var b=a.originalEvent,c=b.pointerId;Q[c]&&(Q[c].setMove(b),F(a,c))}function h(a){L.stopPropagation&&a.stopPropagation();var b=a.originalEvent,d=b.pointerId;Q[d]&&(G(a,d),Q[d].del=!0,0===c()&&(k.unbind(P[1],g),k.unbind(P[2],h)))}function i(a){L.stopPropagation&&a.stopPropagation();var d=a.originalEvent,e=d.changedTouches;0===c()&&(O.bind(P[4],j),O.bind(P[5],l),O.bind(P[6],l)),b(e[0].identifier);for(var f=0,g=e.length;g>f;f++)(!Q[e[f].identifier]||Q[e[f].identifier].del)&&(Q[e[f].identifier]=new I(e[f].identifier,e[f])),E(a,e[f].identifier)}function j(a){L.stopPropagation&&a.stopPropagation(),a.preventDefault();for(var b=a.originalEvent,c=b.changedTouches,d=0,e=c.length;e>d;d++)Q[c[d].identifier]&&Q[c[d].identifier].setMove(c[d]),F(a,c[d].identifier)}function l(a){L.stopPropagation&&a.stopPropagation();for(var b=a.originalEvent,d=b.changedTouches,e=0,f=d.length;f>e;e++)G(a,d[e].identifier),Q[d[e].identifier].del=!0;0===c()&&(O.unbind(P[4],j),O.unbind(P[5],l),O.unbind(P[6],l))}function m(a){L.stopPropagation&&a.stopPropagation();var c=a.originalEvent;b(0),Q[0]=new I(0,c),E(a,0),k.bind(P[8],C),k.bind(P[9],D)}function C(a){L.stopPropagation&&a.stopPropagation(),a.stopPropagation();var b=a.originalEvent;Q[0]&&(Q[0].setMove(b),F(a,0))}function D(a){L.stopPropagation&&a.stopPropagation(),Q[0]&&(G(a,0),void 0!==Q[0]&&Q[0].del===!1&&(Q[0].del=!0),k.unbind(P[8],C),k.unbind(P[9],D))}function E(b,c){S=!1;for(var d=a.parents(),e=d.length,f=0;e>f;f++)if("1"===d.eq(f).attr(n+"scroll-running")){S=!0;break}M.down.call(a,c)}function F(b,c){var d=Q[c].getMoveLength();b.preventDefault(),M.pan.call(a,d,c)}function G(b,c){var d=null,f=Q[c].getMoveLength(),g={x:Math.abs(f.x),y:Math.abs(f.y)};N&&p()-N.time<500&&"touchend"===N.type&&"mouseup"===b.type||(N={time:p(),type:b.type},R.id===c&&(d=new Date-R.time,R.id=null,R.time=null),d&&(g.x<B&&g.y<B&&(S||(d<L.tapMaxTime?M.tap.call(a):M.press.call(a))),g.x>=B&&g.x>=g.y&&d<L.swipeMaxTime&&(f.x<0?(b.preventDefault(),M.swipeLeft.call(a)):(b.preventDefault(),M.swipeRight.call(a))),g.y>=B&&g.y>=g.x&&d<L.swipeMaxTime&&(f.y<0?(b.preventDefault(),M.swipeTop.call(a)):(b.preventDefault(),M.swipeBottom.call(a)))),M.up.call(a,c),e())}function H(a){o.pointer||o.msPointer?a?O.bind(P[0],f):O.unbind(P[0],f):a?(O.bind(P[3],i),O.bind(P[7],m)):(O.unbind(P[3],i),O.unbind(P[7],m)),a?d(O,!0):d(O,!1)}function J(){T||(T=!0,H(!0))}function K(){T&&(T=!1,H(!1))}var O=a,P=[q,r,s,t,u,v,w,x,y,z,A],Q={},R={id:null,time:null},S=!1,T=!1;return function(){J();var b=a.find("a, img");b.bind("dragstart",function(a){a.preventDefault()})}(),{bind:J,unbind:K}}var K={},L={stopPropagation:!1,tapMaxTime:300,swipeMaxTime:500},M={pan:b.noop,tap:b.noop,press:b.noop,swipeLeft:b.noop,swipeRight:b.noop,swipeTop:b.noop,swipeBottom:b.noop,down:b.noop,up:b.noop},N=null,O=[];return I.prototype.setMove=function(a){a&&a.screenX&&(this.moveScreenX=a.screenX),a&&a.screenY&&(this.moveScreenY=a.screenY),a&&a.pageX&&(this.movePageX=a.pageX),a&&a.pageY&&(this.movePageY=a.pageY),a&&a.clientX&&(this.moveClientX=a.clientX),a&&a.clientY&&(this.moveClientY=a.clientY)},I.prototype.getMoveLength=function(){return{x:this.movePageX-this.downPageX,y:this.movePageY-this.downPageY}},function(){i(L,c),h(a,function(a){O.push(J(a))})}(),K={setPan:e,setTap:f,setPress:g,setSwipeLeft:j,setSwipeRight:l,setSwipeTop:m,setSwipeBottom:D,setDown:E,setUp:F,on:G,off:H}}),E=function(a,c){function d(a){return n.scroll=a,l}function e(a){return n.down=a,l}function f(a){return n.up=a,l}function g(){p.forEach(function(){arguments[0].bind()})}function j(){p.forEach(function(){arguments[0].unbind()})}function k(a){function b(b){b.stopPropagation(),b.preventDefault();var c=b.originalEvent,d=c.deltaY/100||c.wheelDelta/-120||(Math.abs(c.detail)>2?c.detail/3:c.detail)||0;n.scroll.call(a,d),d>0?n.down.call(a):n.up.call(a)}function c(){f||(f=!0,e.bind(o,b))}function d(){f&&(f=!1,e.unbind(o,b))}var e=a,f=!1;return function(){c()}(),{bind:c,unbind:d}}var l={},m={},n={scroll:b.noop,down:b.noop,up:b.noop},o="DOMMouseScroll mousewheel",p=[];return function(){i(m,c),h(a,function(a){p.push(k(a))})}(),l={setScroll:d,setDown:e,setUp:f,on:g,off:j}},F=function(){var a={};return a}();return F.event=D,F.eventMouseWheel=E,F}(window,jQuery);
/* lasted： 2015-10-08 04:51:08 */