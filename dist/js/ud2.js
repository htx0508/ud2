/*! ud2 - v1.0.0
 * (c) 2016 Peak(peak@udtwo.com)
 */
if("undefined"==typeof $)throw new Error("ud2库需要JQuery支持");var ud2=function(a,b){"use strict";function c(a,b){O.isObject(a)||(a={}),O.isObject(b)||(b={});for(var c in b)a[c]=b[c];return a}function d(){var a,b,d,e,f=arguments,g=f.length,h=this;if(2===g){if(d=f[0],e=f[1],O.isArray(d)&&O.isFunction(e))return a={},d.forEach(function(b){a[b]=h.userOptions[b]||h.getOriginAttr(b,1)||h.getOriginAttr(b)}),e(a),a}else if(3===g&&(a=f[0],b=f[1]||{},e=f[2],O.isObject(a)&&O.isObject(b)&&O.isFunction(e)))return a=c(a,b),e(a),a;return{}}function e(a){var b=(a.attr(l)||"").split(" "),c=[];return b.forEach(function(a){0!==a.length&&c.push(a)}),c}function f(a){var b=a.split("-"),c=1,d=b.length;if(d>1)for(;d>c;c++)b[c].length>0&&(b[c]=b[c].substr(0,1).toUpperCase()+b[c].substr(1));return b.join("")}function g(a){return O.isJQuery(a)||(a=b(a)),a}var h,i=a.document,j=b(a),k=b(i),l="ud2",m="-",n=l+m,o=(" -webkit- -moz- -o- -ms- ".split(" "),a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(b){a.setTimeout(b,1e3/60)},{date:/^(?:[12]\d{3}([\.\-\/])(?:(?:0?[13578]|1[02])\1(?:0?[1-9]|[12]\d|3[01])|(?:0?[469]|11)\1(?:0?[1-9]|[12]\d|30)|0?2\1(?:0?[1-9]|1\d|2[0-8]))$|[12]\d(?:[02468][048]|[13579][26])([\.\-\/])(?:(?:0?[13578]|1[02])\2(?:0?[1-9]|[12]\d|3[01])|(?:0?[469]|11)\2(?:0?[1-9]|[12]\d|30)|0?2\2(?:0?[1-9]|1\d|2[0-9])))$/,mail:/^([\w-\.]+)@(([\w-]+\.)+)([a-zA-Z]{2,4})$/,phone:/^[1][3458][0-9]{9}$/,identityCard:/^(11|12|13|14|15|21|22|23|31|32|33|34|35|36|37|41|42|43|44|45|46|50|51|52|53|54|61|62|63|64|65|71|81|82|97|98|99)[0-9]{4}((?:19|20)?(?:[0-9]{2}(?:(?:0[13578]|1[12])(?:0[1-9]|[12][0-9]|3[01])|(?:0[469]|11)(?:0[1-9]|[12][0-9]|30)|02(?:0[1-9]|1[0-9]|2[0-8]))|(?:[02468][048]|[13579][26])0229)[0-9]{3}[\dxX])$/,loginName:/^[a-zA-Z][a-zA-Z0-9]+$/}),p=Date.now||function(){return(new Date).getTime()},q=a.navigator.pointerEnabled,r=q?"pointerdown":"MSPointerDown",s=q?"pointermove":"MSPointerMove",t=q?"pointerup":"MSPointerUp",u=q?"pointercancel":"MSPointerCancel",v="touchstart",w="touchmove",x="touchend",y="touchcancel",z="mousedown",A="mousemove",B="mouseup",C="mouseout",D="mouseenter",E="mouseleave",F="click",G=[r,v,z].join(" "),H=b("<div />"),I=b("<a />"),J=function(){},K=/(^[a-z0-9]{1,}|[A-Z][a-z0-9]{0,})/g,L=[],M=!1,N={pageReady:b.Callbacks(),pageResize:b.Callbacks(),ctrlClose:b.Callbacks()},O=function(){function a(a){return function(b){return{}.toString.call(b)==="[object "+a+"]"}}function c(b){return a("Object")(b)}function d(b){return a("Function")(b)}function e(b){return a("String")(b)}function f(b){return a("Number")(b)}function g(a){return/^([1-9]\d+|[0-9])$/.test(a)}function h(a){return a instanceof b}function i(a){return Array.isArray(a)}return{isType:a,isObject:c,isFunction:d,isString:e,isNumber:f,isNaturalNumber:g,isJQuery:h,isArray:i}}(),P=(function(){function a(a){return isNaturalNumber(a)?+a:0}return{toNaturalNumber:a}}(),function(){function a(a){return O.isString(a)?a:""}function b(b,c,d){return b=a(b),c=c||Number.MAX_VALUE,"undefined"!=typeof d?(c>d&&(d=c),b.length<=d&&b.length>=c):b.length===c}function c(b,c){return b=a(b),c=c||0,b.length>=c}function d(b,c){return b=a(b),c=c||Number.MAX_VALUE,b.length<=c}function e(b){return b=a(b),o.phone.test(b)}function f(b){return b=a(b),o.mail.test(b)}function g(b){return b=a(b),o.date.test(b)}function h(b){return b=a(b),o.loginName.test(b)}function i(b){if(b=a(b),b=b.toUpperCase(),o.identityCard.test(b)){if(18===b.length){for(var c=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],d=["1","0","X","9","8","7","6","5","4","3","2"],e=b.split(""),f=0,g=0;17>g;g++)f+=e[g]*c[g];var h=d[f%11];if(h!==e[17])return!1}return!0}return!1}return{isLength:b,isMinLength:c,isMaxLength:d,isPhone:e,isMail:f,isDate:g,isLoginName:h,isIdentityCard:i}}(),function(){var b={},c=i.createElement("div"),d=a.navigator.userAgent;return b.safari=/constructor/i.test(a.HTMLElement),b.mobile=!!d.match(/mobile|mobi|mini/i),b.android=d.indexOf("Android")>-1,b.touch="ontouchstart"in a||a.DocumentTouch&&i instanceof DocumentTouch,b.pointer=q,b.msPointer=a.navigator.msPointerEnabled,b.touchAction=void 0!==c.style.touchAction||void 0!==c.style.msTouchAction||!1,b.perspective=void 0!==c.style.perspective||void 0!==c.style.msPerspective||void 0!==c.style.mozPerspective||void 0!==c.style.webkitPerspective||!1,b.transition=void 0!==c.style.transition||void 0!==c.style.msTransition||void 0!==c.style.mozTransition||void 0!==c.style.webkitTransition||void 0!==c.style.oTransition||!1,b.animation=void 0!==c.style.animation||void 0!==c.style.mozAnimation||void 0!==c.style.webkitAnimation||void 0!==c.style.oAnimation||!1,b}()),Q=function(e,f){function i(a){return T.pan=a,S}function j(a){return T.tap=a,S}function l(a){return T.press=a,S}function m(a){return T.swipeLeft=a,S}function o(a){return T.swipeRight=a,S}function q(a){return T.swipeTop=a,S}function D(a){return T.swipeBottom=a,S}function E(a){return T.down=a,S}function G(a){return T.up=a,S}function I(a,b){function d(a){a&&(a.screenX&&(l.moveScreenX=a.screenX),a.screenY&&(l.moveScreenY=a.screenY),a.pageX&&(l.movePageX=a.pageX),a.pageY&&(l.movePageY=a.pageY),a.clientX&&(l.moveClientX=a.clientX),a.clientY&&(l.moveClientY=a.clientY))}function e(){return{x:l.movePageX-l.downPageX,y:l.movePageY-l.downPageY}}var f=b?b.screenX:0,g=b?b.screenY:0,h=b?b.pageX:0,i=b?b.pageY:0,j=b?b.clientX:0,k=b?b.clientY:0,l={del:!1,id:a,downScreenX:f,downScreenY:g,downPageX:h,downPageY:i,downClientX:j,downClientY:k,moveScreenX:f,moveScreenY:g,movePageX:h,movePageY:i,moveClientX:j,moveClientY:k};return c(l,{setMove:d,getMoveLength:e})}function K(b){function c(a){0===d()&&(V.id=a,V.time=p())}function d(){var a=0;for(var b in U)U[b].del||a++;return a}function e(){for(var a in U)U[a].del&&delete U[a]}function f(){if(P.mobile){var b,c=H.clone().css({position:"fixed",top:0,right:0,left:0,bottom:0,"z-index":999999999});h.append(c),c.on(v,function(a){a.stopPropagation(),a.preventDefault()}).on(F,function(d){d.stopPropagation(),d.preventDefault(),b&&a.clearTimeout(b),c.remove()}),b=a.setTimeout(function(){c.remove()},500)}}function g(a){N&&a.stopPropagation();var b=a.originalEvent,e=b.pointerId;c(e),0===d()&&(k.on(S[1],i),k.on(S[2],j),k.on(S[3],j)),U[e]&&!U[e].del||(U[e]=I(e,b),E(a,e))}function i(a){N&&a.stopPropagation(),a.preventDefault();var b=a.originalEvent,c=b.pointerId;U[c]&&(U[c].setMove(b),G(a,c))}function j(a){N&&a.stopPropagation();var b=a.originalEvent,c=b.pointerId;U[c]&&(J(a,c),U[c].del=!0,0===d()&&(k.off(S[1],i),k.off(S[2],j),k.off(S[3],j)))}function l(a){N&&a.stopPropagation();var e,f=a.type,g=a.originalEvent;if("touchstart"===f){e=g.changedTouches,0===d()&&(b.on(S[5],m),b.on(S[6],o),b.on(S[7],o)),c(e[0].identifier);for(var h=0,i=e.length;i>h;h++)U[e[h].identifier]&&!U[e[h].identifier].del||(U[e[h].identifier]=I(e[h].identifier,e[h])),E(a,e[h].identifier)}else c(0),U[0]=I(0,g),E(a,0),k.on(S[9],q),k.on(S[10],D)}function m(a){N&&a.stopPropagation(),a.preventDefault();for(var b=a.originalEvent,c=b.changedTouches,d=0,e=c.length;e>d;d++)U[c[d].identifier]&&U[c[d].identifier].setMove(c[d]),G(a,c[d].identifier)}function o(a){N&&a.stopPropagation();for(var c=a.originalEvent,e=c.changedTouches,f=0,g=e.length;g>f;f++)J(a,e[f].identifier),U[e[f].identifier].del=!0;0===d()&&(b.off(S[5],m),b.off(S[6],o),b.off(S[7],o))}function q(a){N&&a.stopPropagation(),a.stopPropagation();var b=a.originalEvent;U[0]&&(U[0].setMove(b),G(a,0))}function D(a){N&&a.stopPropagation(),U[0]&&(J(a,0),void 0!==U[0]&&U[0].del===!1&&(U[0].del=!0),k.off(S[9],q),k.off(S[10],D))}function E(a,c){W=!1;for(var d=b.parents(),e=d.length,f=0;e>f;f++)if("1"===d.eq(f).attr(n+"scroll-runing")){W=!0;break}T.down.call(b,a)}function G(a,c){var d=U[c].getMoveLength();a.preventDefault(),T.pan.call(b,d,a)}function J(a,c){var d=null,g=U[c].getMoveLength(),h={x:Math.abs(g.x),y:Math.abs(g.y)};V.id===c&&(d=new Date-V.time,V.id=null,V.time=null),d&&(h.x<R&&h.y<R&&(W||(O>d?(f(),T.tap.call(b,a)):T.press.call(b,a))),h.x>=R&&h.x>=h.y&&Q>d&&(g.x<0?(a.preventDefault(),T.swipeLeft.call(b,a)):(a.preventDefault(),T.swipeRight.call(b,a))),h.y>=R&&h.y>=h.x&&Q>d&&(g.y<0?(a.preventDefault(),T.swipeTop.call(b,a)):(a.preventDefault(),T.swipeBottom.call(b,a)))),T.up.call(b,a),e()}function K(a){var c=P.pointer||P.msPointer;a?(c?b.on(S[0],g):b.on(S[4]+" "+S[8],l),b.css({"-ms-touch-action":"none","touch-action":"none","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"})):(c?b.off(S[0],g):b.off(S[4]+" "+S[8],l),b.css({"-ms-touch-action":"auto","touch-action":"auto","-webkit-user-select":"text","-moz-user-select":"text","-ms-user-select":"text","user-select":"text"}))}function L(){X||(X=!0,K(!0))}function M(){X&&(X=!1,K(!1))}var S=[r,s,t,u,v,w,x,y,z,A,B,C],U={},V={id:null,time:null},W=!1,X=!1;return function(){L()}(),{bind:L,unbind:M}}function L(){U.forEach(function(){arguments[0].bind()})}function M(){U.forEach(function(){arguments[0].unbind()})}var N,O,Q,R,S={},T=(d({stopPropagation:!1,tapMaxTime:300,swipeMaxTime:500,pointerValidLength:5},f,function(a){N=a.stopPropagation,O=a.tapMaxTime,Q=a.swipeMaxTime,R=a.pointerValidLength}),{pan:J,tap:J,press:J,swipeLeft:J,swipeRight:J,swipeTop:J,swipeBottom:J,down:J,up:J}),U=[];return function(){g(e).each(function(a,c){U.push(K(b(c)))})}(),c(S,{setPan:i,setTap:j,setPress:l,setSwipeLeft:m,setSwipeRight:o,setSwipeTop:q,setSwipeBottom:D,setDown:E,setUp:G,on:L,off:M})},R=function(a){function d(a){return l.scroll=a,k}function e(a){return l.down=a,k}function f(a){return l.up=a,k}function h(a){function b(b){b.stopPropagation(),b.preventDefault();var c=b.originalEvent,d=c.deltaY/100||c.wheelDelta/-120||(Math.abs(c.detail)>2?c.detail/3:c.detail)||0;l.scroll.call(a,d,b),d>0?l.down.call(a,b):l.up.call(a,b)}function c(){e||(e=!0,a.on(m,b))}function d(){e&&(e=!1,a.off(m,b))}var e=!1;return function(){c()}(),{bind:c,unbind:d}}function i(){n.forEach(function(){arguments[0].bind()})}function j(){n.forEach(function(){arguments[0].unbind()})}var k={},l={scroll:J,down:J,up:J},m="DOMMouseScroll mousewheel",n=[];return function(){g(a).each(function(a,c){n.push(h(b(c)))})}(),c(k,{setScroll:d,setDown:e,setUp:f,on:i,off:j})},S=function(e,f){function h(){return i(),s(ra.now.x,ra.now.y),da}function i(){var a,b=0,c=0,d=0,e=0,f=0,g=0,h=0,i=0;ea.hasVertical&&(b=ga.height(),c=fa.height(),ra.h=c,ra.ih=fa.innerHeight(),ra.sh=b-c,ra.now.y<-ra.sh&&(ra.now.y=-ra.sh),e=ra.ih-2*ea.barOffset,0!==c&&(a=ra.sh/(5*ra.ih),a=1-(a>1?1:a),d=e*a,d=d<ea.barMinLength?ea.barMinLength:d,d=d>e?e:d,sa.h=d,sa.mh=e,sa.sh=e-d,ia.height(d))),ea.hasHorizontal&&(f=ga.width(),g=fa.width(),ra.w=g,ra.iw=fa.innerWidth(),ra.sw=f-g,ra.now.x<-ra.sw&&(ra.now.x=-ra.sw),i=ra.iw-2*ea.barOffset,0!==g&&(a=ra.sw/(5*ra.iw),a=1-(a>1?1:a),h=i*a,h=h<ea.barMinLength?ea.barMinLength:h,h=h>i?i:h,sa.w=h,sa.mw=i,sa.sw=i-h,ha.width(h)))}function j(){var a,b,c=ga.css("transform");return c=c.split(")")[0].split(", "),a=Math.round(+(c[12]||c[4])),b=Math.round(+(c[13]||c[5])),{x:a,y:b}}function k(a){la!==a&&(la=a,fa.attr(va,a?1:0))}function l(a,b){var c=b?"sh":"sw";return 0===ra[c]||0===sa[c]?0:a/ra[c]*sa[c]}function m(a,b){var c=b?"sh":"sw";return 0===ra[c]||0===sa[c]?0:a/sa[c]*ra[c]}function o(){0===ea.barState&&(sa.timer&&a.clearTimeout(sa.timer),ha.stop().fadeIn(200),ia.stop().fadeIn(200))}function q(){0===ea.barState&&(qa||pa||la||(sa.timer&&a.clearTimeout(sa.timer),sa.timer=a.setTimeout(function(){ha.stop().fadeOut(400),ia.stop().fadeOut(400)},800)))}function r(a,b,c,d,e,f){var g,h,i=a-b,j=Math.abs(i)/c;return d=-d,e=e||0,f=f||5e-4,g=a+j*j/(2*f)*(0>i?-1:1),h=j/f,d>g?(g=e?d-e/2.5*(j/8):d,i=Math.abs(g-a),h=i/j):g>0&&(g=e?e/2.5*(j/8):0,i=Math.abs(a)+g,h=i/j),{destination:Math.round(g),duration:h}}function s(a,b,c,d){var e,f;if(c=c||0,d=d||ja.circular,a>0&&(a=0),b>0&&(b=0),b<-ra.sh&&(b=-ra.sh),a<-ra.sw&&(a=-ra.sw),t(d),u(c),ga.css("transform","translate("+a+"px, "+b+"px)"+(P.perspective?" translateZ(0)":"")),ea.hasVertical&&ia.css("transform","translate(0, "+l(-b,1)+"px)"+(P.perspective?" translateZ(0)":"")),ea.hasHorizontal&&ha.css("transform","translate("+l(-a,0)+"px, 0)"+(P.perspective?" translateZ(0)":"")),ra.now={x:a,y:b},f=ta.length,0!==f)for(e=0;f>e;e++)ta[e].move(-a,-b,c)}function t(a){ga.css("transition-timing-function",a),ia.css("transition-timing-function",a+", ease-out, ease-out, ease-out"),ha.css("transition-timing-function",a+", ease-out, ease-out, ease-out")}function u(b){var c=parseInt(b);ga.css("transition-duration",c+"ms"),ia.css("transition-duration",c+"ms, 300ms, 300ms, 300ms"),ha.css("transition-duration",c+"ms, 300ms, 300ms, 300ms"),0!==c?(na&&a.clearTimeout(na),na=a.setTimeout(function(){s(ra.now.x,ra.now.y,0),k(!1),q()},c)):(k(!1),q())}function v(a,b,c){return c=c||0,s(-a,-b,c),da}function w(a){return void 0!==a?(ma=!!a,da):ma}function y(a){return O.isObject(a)&&a.type&&a.type===ua&&ta.push(a),da}function z(a){var b;return O.isObject(a)&&a.type&&a.type===ua&&(b=ta.indexOf(a),b>-1&&ta.splice(b,1)),da}function A(){if(!ma){i(),o();var a=j();s(a.x,a.y),ka.moved=!1,ka.start=p(),ka.startMove={x:ra.now.x,y:ra.now.y},ka.lastMove={x:0,y:0}}}function B(a){if(!ma){var b=p(),c=a.x,d=a.y,e=Math.abs(c),f=Math.abs(d),g=c-ka.lastMove.x,h=d-ka.lastMove.y,i=0,j=0;o(),ka.lastMove={x:c,y:d},b-ka.end>300&&oa>e&&oa>f||(ka.moved||(ka.moved=!0),ea.hasVertical&&(j=h+ra.now.y),ea.hasHorizontal&&(i=g+ra.now.x),0===g&&0===h||s(i,j),b-ka.start>=300&&(ka.start=b,ka.startMove.x=i,ka.startMove.y=j))}}function C(){if(!ma){var a=ra.now.x,b=ra.now.y,c=a,d=b,e=null,f=null,g=p()-ka.start,h=0;if(ka.end=p(),q(),ka.moved&&ea.isSlowMovning){if(300>g){var i=0,j=0;ea.hasVertical&&(f=r(b,ka.startMove.y,g,ra.sh,ea.bounce?ra.h:0),d=f.destination,j=f.duration),ea.hasHorizontal&&(e=r(a,ka.startMove.x,g,ra.sw,ea.bounce?ra.w:0),c=e.destination,i=e.duration),h=Math.max(i,j)}c===a&&d===b||(o(),k(!0),s(c,d,h))}}}function F(a){var b=ra.now.x,c=ra.now.y,d=300,e=ea.mouseWheelLength;i(),"normal"===e&&(e=Math.round(ra.h)),a>0?c-=e:c+=e,c>0||c<-ra.sh?k(!1):(o(),k(!0)),s(b,c,d)}function G(){this.move=0,pa=!0,o(),b(this).css("background",ea.barColorOn)}function I(){pa=!1,q(),b(this).css("background",ea.barColor)}function J(a,b){var c=b?ra.now.x:m(-(a.x-this.move),0)+ra.now.x,d=b?m(-(a.y-this.move),1)+ra.now.y:ra.now.y;b?this.move=a.y:this.move=a.x,s(c,d)}function K(){ea.recountByResize&&N.pageResize.add(h),0===ea.barState&&fa.on(D,function(){i(),qa=!0,o()}).on([E,x].join(" "),function(){qa=!1,q()}),ea.isTouchMode&&Q(fa,{stopPropagation:!0}).setDown(A).setUp(C).setPan(B),ea.isMouseWheelMode&&R(fa).setScroll(F),ea.isScrollMode&&(Q(ia,{stopPropagation:!0}).setPan(function(a){J.call(this,a,1)}).setDown(G).setUp(I),Q(ha,{stopPropagation:!0}).setPan(function(a){J.call(this,a,0)}).setDown(G).setUp(I))}var L,M,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da={},ea=d({recountByResize:!1,barState:0,hasHorizontal:!1,hasVertical:!0,barSize:6,barMinLength:30,barOffset:1,barColor:"rgba(0,0,0,.4)",barColorOn:"rgba(0,0,0,.6)",barBorderRadiusState:!0,mouseWheelLength:"normal",isTouchMode:!0,isMouseWheelMode:!0,isScrollMode:!1,isSlowMovning:!0},f,function(a){L=a.recountByResize,M=a.barState,S=a.barSize,T=a.barMinLength,U=a.barOffset,V=a.barColor,W=a.barColorOn,X=a.barBorderRadiusState,Y=a.hasHorizontal,Z=a.hasVertical,$=a.isMouseWheelMode,_=a.isTouchMode,aa=a.isScrollMode,ba=a.mouseWheelLength,ca=a.isSlowMovning}),fa=g(e).eq(0),ga=H.clone().addClass(n+"scroll-wrapper"),ha=H.clone().addClass(n+"scroll-bar"),ia=H.clone().addClass(n+"scroll-bar"),ja={quadratic:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",circular:"cubic-bezier(0.1, 0.57, 0.1, 1)"},ka={id:null,start:0,end:0,moved:!1,startMove:{x:0,y:0},lastMove:{x:0,y:0}},la=!1,ma=!1,na=null,oa=5,pa=!1,qa=!1,ra={h:0,ih:0,sh:0,w:0,iw:0,sw:0,now:{x:0,y:0},isMoved:!1},sa={h:0,mh:0,sh:0,w:0,mw:0,sw:0,timer:null},ta=[],ua="scroll",va=n+"scroll-runing";return function(){"normal"===ba||O.isNaturalNumber(ba)||(ba="normal");var a=fa.contents();0===a.length?fa.append(ga):(a.wrapAll(ga),ga=fa.children("."+n+"scroll-wrapper")),ga.css("padding",fa.css("padding-top")+" "+fa.css("padding-right")+" "+fa.css("padding-bottom")+" "+fa.css("padding-left")),fa.addClass("ud2-scroll"),Z&&(fa.prepend(ia),ga.css({height:"auto","min-height":"100%"})),Y&&(fa.prepend(ha),ga.css({width:"auto","min-width":"100%"})),ia.css({top:U,right:U,width:S,background:V}),ha.css({left:U,bottom:U,height:S,background:V}),X&&(ia.css("border-radius",S/2),ha.css("border-radius",S/2)),1===M&&(ia.show(),ha.show()),i(),K()}(),c(da,{type:ua,move:v,oplock:w,followerBind:y,followerUnbind:z})},T=function(){for(var a={},b=["normal","info","success","warning","danger"],c=0,d=b.length;d>c;c++)a[b[c]]={name:b[c],no:c};return a}(),U=function(){var a={event:Q,eventMouseWheel:R,scroll:S,style:T,controlCreate:function(){var c=b("["+l+"]");c.each(function(){var c=b(this),d=e(c);d.forEach(function(b,d){var e=f(b),g=c.attr(n+b+"-ready"),h=c.attr("ud2-id")||null;g||(h?a[e].create(h,c):a[e].create(c))})})}};return a}(),V=function(a){function b(a,b){a=a||{},a.transfer=a.transfer||j.origin||null,a.accept=a.accept||j.current||null,a.attrReg=a.attrReg||null,a.transfer&&a.accept&&b(a.transfer,a.accept,a.attrReg)}function c(a,b){a=g(a),(b=b||J)(a)}function e(a){var b,c,d;if(a=g(a),b=a.parents(),a.get(0)!==j.current.get(0)){for(c=0,d=b.length;d>c;c++)if(b.eq(c).get(0)===j.current.get(0))return;j.autoClose()}}function f(a){if(void 0!==a){for(var b in T)j.style===T[b]&&j.current.removeClass(T[b].name);return j.style=a,j.current.addClass(a.name),j["public"]}return j.style}var h=this,i={},j={"public":{ud2:!0,collection:h["public"],type:a,appendTo:function(a){c(a,function(a){a.last().append(j.current)})},prependTo:function(a){c(a,function(a){a.last().prepend(j.current)})},insertBefore:function(a){c(a,function(a){a.last().before(j.current)})},insertAfter:function(a){c(a,function(a){a.last().after(j.current)})},style:f},origin:null,current:H.clone(),userOptions:i,getOriginAttr:function(a,b){a=function(){return L[a]||(L[a]=a.match(K).join(m).toLowerCase()),L[a]}();var c=b?a:h.className+m+a;return j.origin?j.origin.attr(c):null},getOptions:function(){return d.apply(this,arguments)},transferStyles:function(a){b(a,function(a,b){b.attr("style",a.attr("style")).addClass(a.attr("class")),a.removeAttr("style").removeClass()})},transferAttrs:function(a){b(a,function(a,b,c){for(var d,e=a.get(0),f=b.get(0),g=e?e.attributes.length:0,h=new RegExp("^("+c+")"),i=0,j=0;g>i;i++)d=e.attributes[j],h.test(d.name)?(f.setAttribute(d.name,d.value),e.removeAttribute(d.name)):j++})},style:T.normal,autoClose:J};return N.ctrlClose.add(e),j},W=function(a){var b={"public":[],init:J,name:a,ctrlName:f(a),className:n+a};return b},X=function(){var a=0;return function(){return n+a++}}(),Y=function(a,b){var d=W(a),e=function(){return f.apply(e,arguments)},f=function(){var b,h,i,j=V.call(d,a),k=arguments,m=k.length;switch(m){case 0:return f.call(e,void 0,void 0,{});case 1:return O.isString(k[0])?f.call(e,k[0],void 0,void 0):O.isJQuery(k[0])?f.call(e,void 0,k[0],void 0):O.isObject(k[0])?f.call(e,void 0,void 0,k[0]):f.call(e);case 2:if(O.isString(k[0])&&(O.isJQuery(k[1])||O.isString(k[1])))return f.call(e,k[0],k[1],void 0);if(O.isString(k[0])&&O.isObject(k[1]))return f.call(e,k[0],void 0,k[1]);if(O.isJQuery(k[0])&&O.isObject(k[1]))return f.call(e,void 0,k[0],k[1]);break;case 3:b=O.isString(k[0])&&k[0].length>0?k[0]:X(),h=g(k[1]).first(),i=O.isObject(k[2])?k[2]:{}}return c(j,{origin:h,userOptions:i}),c(j["public"],{id:b}),d["public"].push(j["public"]),d["public"][b]=j["public"],j.current.attr(l,a).attr(l+"-id",b).attr(d.className+"-ready",!0).addClass(d.className),d.init(j)||j["public"]};return b(d),U[a]=e,d.name!==d.ctrlName&&(U[d.ctrlName]=e),e.create=f,e.collection=d["public"],e};return Y("number",function(a){a.init=function(b){function d(a){return a=parseFloat(a),(isNaN(a)||n>a)&&(a=n),a>o&&(a=o),a=Math.round((a-n)/l)*l+n,a=parseFloat(a.toFixed(m)),a>o&&(a-=l),a}function e(a){if(!y){if(y=!0,a&&p+l>o||!a&&n>p-l)return void(y=!1);var b='<input class="ud2-ctrl-textbox" />',c=H.clone().addClass(q+"-view").html(b),d=H.clone().addClass(q+"-view").html(b);u.parent();p=a?parseFloat((p+l).toFixed(m)):parseFloat((p-l).toFixed(m)),c.children().val(p),d.children().val(p),u.before(c),u.after(d),x.animate({top:a?"-100%":"100%"},300,function(){y=!1,h(p),x.css("top",0),c.remove(),d.remove()})}}function f(){e(0)}function g(){e(1)}function h(a){void 0!==a?(p=d(a),z.change.call(b["public"],p)):p=d(p),u.val(p)}function i(a){return void 0!==a?(h(a),b["public"]):p}function j(a){return z.change=a,b["public"]}function k(){Q(v).setTap(f),Q(w).setTap(g),R(u).setDown(g).setUp(f),u.keydown(function(a){switch(a.keyCode){case 13:u.blur();break;case 38:a.preventDefault(),f();break;case 40:a.preventDefault(),g()}}).focus(function(){N.ctrlClose.fire(t),t.addClass("on")}).blur(function(){h(u.val()),t.removeClass("on")})}var l,m,n,o,p,q=a.className,r=(b.getOptions(["step","min","max","value"],function(a){l=parseFloat(a.step),(isNaN(l)||0===l)&&(l=1),n=parseFloat(a.min),isNaN(n)&&(n=0),o=parseFloat(a.max),isNaN(o)&&(o=100),p=a.value,n>o&&(o=n),p=d(p),m=l.toString().indexOf(".")>-1?l.toString().split(".")[1].length:0}),'<a class="'+q+'-ico">&#xe106;</a><div class="'+q+'-move"><input type="text" value="0" class="ud2-ctrl-textbox" /></div><a class="'+q+'-ico">&#xe107;</a>'),s=b.current,t=s.html(r),u=t.find("input"),v=t.children("a:first"),w=t.children("a:last"),x=v.next(),y=!1,z={change:J};return function(){b.origin.after(t),b.origin.remove(),b.transferStyles(),b.transferAttrs({accept:u,attrReg:"name|tabindex"}),h(),k()}(),c(b["public"],{val:i,setChange:j})}}),Y("range",function(a){a.init=function(b){function d(a){var b=null,c=null;return a=void 0!==a?(""+a).split(","):[0,0],b=parseFloat(a[0])||0,c=parseFloat(a[1])||0,[b,c]}function e(){X.nl=h(F),A&&(X.nr=h(G))}function f(){X.w=U.outerWidth(),X.bw=T.width(),X.max=X.bw-X.w}function g(a){return a*X.max/X.bw*100}function h(a){var b=(a-D)/(E-D);return b}function i(a,c){var d,e,f,i,j,k,l;D>a&&(a=D),a>E&&(a=E),F=Math.round((a-D)/B)*B+D,F=parseFloat(F.toFixed(C)),F>E&&(F-=B),d=h(F),U.css("left",g(d)+"%"),K.both?(D>c&&(c=D),c>E&&(c=E),G=Math.round((c-D)/B)*B+D,G=parseFloat(G.toFixed(C)),G>E&&(G-=B),e=h(G),V.css({left:g(e)+"%"}),f=Math.min(d,e),i=Math.max(d,e),j=Math.min(F,G),k=Math.max(F,G),U.css("z-index",F+1e4),V.css("z-index",G+1e4),W.css({left:100*f+"%",width:100*(i-f)+"%"}),R.val(j+","+k),l=[j,k]):(W.css("width",100*d+"%"),R.val(F),l=F),Z.change.call(b["public"],l)}function j(){return Y||(f(),K.both?i(F,G):i(F),e(),Y=!0,P.addClass("on"),S.addClass(n+"ctrl-power-on"),Z.open.call(b["public"])),b["public"]}function k(){return Y&&(Y=!1,P.removeClass("on"),S.removeClass(n+"ctrl-power-on"),Z.close.call(b["public"])),b["public"]}function l(){return Y?k():j(),b["public"]}function m(a,c){if(void 0!==a)return a=d(void 0!==c?[a,c].join(","):O.isArray(a)?a.join(","):a),i(a[0],a[1]),b["public"];if(A){var e=Math.min(F,G),f=Math.max(F,G);return[e,f]}return F}function o(a){return Z.open=a,b["public"]}function p(a){return Z.close=a,b["public"]}function q(a){return Z.change=a,b["public"]}function r(a,b){var c=a*X.max+b,d=null;return 0>c&&(c=0),c>X.max&&(c=X.max),d=parseFloat(((E-D)*c/X.max+D).toFixed(C)),d=isNaN(d)?D:d}function s(a){K.both?i(r(X.nl,a.x),G):i(r(X.nl,a.x))}function t(){X.nl=h(F)}function u(a){i(F,r(X.nr,a.x))}function v(){X.nr=h(G)}function w(){N.ctrlClose.fire(P),j()}function x(a){13===a.keyCode&&R.blur()}function y(){var a=d(R.val());f(),i(a[0],a[1]),e()}function z(){Q(S).setTap(l),Q(U,{stopPropagation:!0}).setDown(f).setPan(s).setUp(t),Q(V,{stopPropagation:!0}).setDown(f).setPan(u).setUp(v),N.pageResize.add(function(){f(),i(F,G)}),R.on("focus",w).on("keydown",x).on("blur",y)}var A,B,C,D,E,F,G,H=a.className,K=b.getOptions(["both","min","max","value","step"],function(a){var b;B=parseFloat(a.step),(isNaN(B)||0===B)&&(B=1),D=parseFloat(a.min),isNaN(D)&&(D=0),E=parseFloat(a.max),isNaN(E)&&(E=100),b=d(a.value),F=b[0],G=b[1],A=!(!a.both||"false"===a.both),D>E&&(E=D),C=B.toString().indexOf(".")>-1?B.toString().split(".")[1].length:0}),L='<input type="text" maxlength="20" class="ud2-ctrl-textbox" /><div class="ud2-ctrl-power"><i class="ico ico-range-x"></i><i class="ico ico-solid-cancel"></i></div><div class="'+H+'-list"><div class="'+H+'-end" /><div class="'+H+'-back" /></div>',M=b.current,P=M.html(L),R=P.children("input"),S=R.next(),T=S.next(),U=I.clone().addClass(H+"-hand"),V=I.clone().addClass(H+"-hand"),W=T.find("."+H+"-back"),X={max:0,bw:0,w:0,nl:0,nr:0},Y=!1,Z={open:J,close:J,change:J};return function(){W.after(U),A&&W.after(V),b.origin.after(P),b.origin.remove(),b.transferStyles(),b.transferAttrs({accept:R,attrReg:"name|tabindex"}),b.autoClose=k,e(),f(),i(F,G),z()}(),c(b["public"],{val:m,setOpen:o,setClose:p,setChange:q})}}),function(){k.ready(function(){h=b("body"),P.safari&&i.body.addEventListener("touchstart",b.noop),N.pageReady.fire(),M=!0,k.bind(G,function(a){var b="ctrlCloseEvent",c=a.type,d=k.data(b);d&&c!==d||(k.data(b,c),N.ctrlClose.fire(a.target)),"mousedown"===c&&k.data(b,null)})}),j.bind("resize orientationchange",function(){N.pageResize.fire()}),N.pageReady.add(U.controlCreate)}(),c(U,{type:O})}(window,jQuery);